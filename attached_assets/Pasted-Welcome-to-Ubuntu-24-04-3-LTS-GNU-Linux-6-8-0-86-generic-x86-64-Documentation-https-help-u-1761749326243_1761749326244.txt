Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-86-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Wed Oct 29 14:44:16 UTC 2025

  System load:  0.0                Processes:             108
  Usage of /:   10.6% of 47.39GB   Users logged in:       0
  Memory usage: 23%                IPv4 address for eth0: 72.60.134.44
  Swap usage:   0%                 IPv6 address for eth0: 2a02:4780:41:695a::1

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

2 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


1 updates could not be installed automatically. For more details,
see /var/log/unattended-upgrades/unattended-upgrades.log

Last login: Wed Oct 29 08:54:42 2025 from 169.254.0.1
root@srv1027249:~# cd /var/www/mapestate.net

# Backup uploads (safety)
cp -r server/uploads ~/uploads_backup_$(date +%Y%m%d)

# Pull latest code
git pull origin main

# Build with the fix
npm install
npm run build

# Restart application
pm2 restart all
# or
systemctl restart mapestate
remote: Enumerating objects: 28, done.
remote: Counting objects: 100% (28/28), done.
remote: Compressing objects: 100% (8/8), done.
remote: Total 21 (delta 13), reused 21 (delta 13), pack-reused 0 (from 0)
Unpacking objects: 100% (21/21), 10.59 KiB | 904.00 KiB/s, done.
From https://github.com/roottgroup-gif/AIMRealty-1
 * branch            main       -> FETCH_HEAD
   dfedb3c..a5a5528  main       -> origin/main
Merge made by the 'ort' strategy.
 DEPLOYMENT_INSTRUCTIONS.md               | 312 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 GITHUB_PUSH_INSTRUCTIONS.md              | 285 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 attached_assets/content-1761728840179.md |  23 +++++++++
 client/src/App.tsx                       |  15 ++++++
 deploy-to-vps.sh                         | 188 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 push-to-github.sh                        |  96 +++++++++++++++++++++++++++++++++++
 server/storageFactory.ts                 |   3 +-
 7 files changed, 921 insertions(+), 1 deletion(-)
 create mode 100644 DEPLOYMENT_INSTRUCTIONS.md
 create mode 100644 GITHUB_PUSH_INSTRUCTIONS.md
 create mode 100644 attached_assets/content-1761728840179.md
 create mode 100644 deploy-to-vps.sh
 create mode 100644 push-to-github.sh

up to date, audited 581 packages in 2s

88 packages are looking for funding
  run `npm fund` for details

7 vulnerabilities (1 low, 6 moderate)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.19 building for production...
✓ 2716 modules transformed.
../dist/public/index.html                                                   9.10 kB │ gzip:   2.70 kB
../dist/public/assets/logo_1757848527935-f97yEqP4.png                      34.60 kB
../dist/public/assets/UniQAIDAR_Asiacell 001_1758107005933-Cl-Cqdhv.ttf    57.23 kB
../dist/public/assets/UniQAIDAR_Asiacell 002_1758107005922-ClO-zV7t.ttf    57.24 kB
../dist/public/assets/US_flag_circular_design_55844ad0-B0cUOQ6G.png       506.88 kB
../dist/public/assets/Saudi_flag_circular_design_3c46c604-D1J1e9j5.png    518.22 kB
../dist/public/assets/Kurdish_flag_circular_design_55e28463-qI8fKU0i.png  529.54 kB
../dist/public/assets/index-CvRKjfG9.css                                  130.08 kB │ gzip:  20.54 kB
../dist/public/assets/filter-BYzr9SWY.js                                    0.33 kB │ gzip:   0.26 kB
../dist/public/assets/arrow-left-CXdBkETt.js                                0.33 kB │ gzip:   0.26 kB
../dist/public/assets/search-CIelg_B6.js                                    0.34 kB │ gzip:   0.27 kB
../dist/public/assets/user-D7wpExFv.js                                      0.37 kB │ gzip:   0.28 kB
../dist/public/assets/dollar-sign-C_6hP0f4.js                               0.39 kB │ gzip:   0.29 kB
../dist/public/assets/heart-BFA3EgV3.js                                     0.41 kB │ gzip:   0.31 kB
../dist/public/assets/globe-1RSNCiJv.js                                     0.41 kB │ gzip:   0.29 kB
../dist/public/assets/circle-alert-DE0jLVDw.js                              0.42 kB │ gzip:   0.29 kB
../dist/public/assets/map-pin-BZoN1N8o.js                                   0.42 kB │ gzip:   0.32 kB
../dist/public/assets/calendar-BBJbfKGN.js                                  0.43 kB │ gzip:   0.30 kB
../dist/public/assets/chart-pie-D2kjJbLE.js                                 0.44 kB │ gzip:   0.33 kB
../dist/public/assets/shield-DE3xY9gd.js                                    0.44 kB │ gzip:   0.32 kB
../dist/public/assets/award-BdJ0l9tU.js                                     0.44 kB │ gzip:   0.33 kB
../dist/public/assets/lightbulb-BGHHkcKs.js                                 0.46 kB │ gzip:   0.33 kB
../dist/public/assets/users-DLJ66-Qn.js                                     0.47 kB │ gzip:   0.32 kB
../dist/public/assets/phone-DI4fTxzw.js                                     0.56 kB │ gzip:   0.36 kB
../dist/public/assets/input-8XbpH-AL.js                                     0.58 kB │ gzip:   0.36 kB
../dist/public/assets/separator-Ccf5NRQU.js                                 0.67 kB │ gzip:   0.40 kB
../dist/public/assets/badge-C2RwgtVP.js                                     0.71 kB │ gzip:   0.37 kB
../dist/public/assets/dashboard-redirect-D2d3nb3-.js                        0.74 kB │ gzip:   0.44 kB
../dist/public/assets/key-6_heTNuA.js                                       0.84 kB │ gzip:   0.42 kB
../dist/public/assets/not-found-DiOpQrTO.js                                 0.91 kB │ gzip:   0.51 kB
../dist/public/assets/label-DKGC8R6K.js                                     0.93 kB │ gzip:   0.60 kB
../dist/public/assets/bed-Dt3HcfNC.js                                       0.94 kB │ gzip:   0.44 kB
../dist/public/assets/card-DR4g04zI.js                                      0.99 kB │ gzip:   0.37 kB
../dist/public/assets/use-local-favorites-iM-tGQvb.js                       1.36 kB │ gzip:   0.61 kB
../dist/public/assets/tag-BEJ7s8Cu.js                                       1.41 kB │ gzip:   0.56 kB
../dist/public/assets/optimized-image-CuNHnlkn.js                           2.21 kB │ gzip:   1.15 kB
../dist/public/assets/avatar-CLw0gwrt.js                                    2.46 kB │ gzip:   1.18 kB
../dist/public/assets/use-properties-BP51Grvb.js                            2.85 kB │ gzip:   0.95 kB
../dist/public/assets/index-DQn3P-Rr.js                                     3.38 kB │ gzip:   1.54 kB
../dist/public/assets/favorites-CXr9GWSV.js                                 3.45 kB │ gzip:   1.39 kB
../dist/public/assets/location-selection-map-BvQ1_wPd.js                    3.76 kB │ gzip:   1.76 kB
../dist/public/assets/admin-login-CpyNFzrX.js                               5.08 kB │ gzip:   1.91 kB
../dist/public/assets/usePropertyEvents-Csq2YxER.js                         5.73 kB │ gzip:   1.83 kB
../dist/public/assets/property-card-DurE3Kr0.js                             7.31 kB │ gzip:   2.76 kB
../dist/public/assets/about-CbtE8Yd3.js                                     8.44 kB │ gzip:   1.97 kB
../dist/public/assets/dialog-DLMZaZ3N.js                                   11.29 kB │ gzip:   3.94 kB
../dist/public/assets/settings-BmhdzsB8.js                                 13.16 kB │ gzip:   3.67 kB
../dist/public/assets/meta-enhancement-DXxpAvMB.js                         14.36 kB │ gzip:   5.74 kB
../dist/public/assets/typography-showcase-BFbVmVAT.js                      14.36 kB │ gzip:   2.86 kB
../dist/public/assets/properties-CBdcnG__.js                               14.67 kB │ gzip:   3.98 kB
../dist/public/assets/Combination-MRLOjtnY.js                              16.93 kB │ gzip:   6.47 kB
../dist/public/assets/home-DS0L3EE0.js                                     20.24 kB │ gzip:   5.53 kB
../dist/public/assets/dropdown-menu-C3FBgPGw.js                            21.26 kB │ gzip:   6.27 kB
../dist/public/assets/select-CA9vNUT8.js                                   21.80 kB │ gzip:   7.61 kB
../dist/public/assets/SEOHead-B-hjVbOc.js                                  22.04 kB │ gzip:   7.85 kB
../dist/public/assets/property-detail-4aiYm12D.js                          33.26 kB │ gzip:   9.77 kB
../dist/public/assets/property-map-BfSWJK5W.js                             48.86 kB │ gzip:  12.86 kB
../dist/public/assets/index-UAl4KTDa.js                                    89.47 kB │ gzip:  25.16 kB
../dist/public/assets/admin-dashboard-D4P2IkjJ.js                          99.46 kB │ gzip:  21.46 kB
../dist/public/assets/customer-dashboard-DV64TLxC.js                      102.72 kB │ gzip:  24.84 kB
../dist/public/assets/client-location-tracking-DrytbaNH.js                195.60 kB │ gzip:  66.43 kB
../dist/public/assets/index-DiLMyJ1j.js                                   317.81 kB │ gzip: 105.95 kB
../dist/public/assets/PieChart-DZSub9-Y.js                                442.42 kB │ gzip: 119.36 kB
✓ built in 14.66s

  dist/index.js  226.9kb

⚡ Done in 25ms
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [all](ids: [ 0 ])
[PM2] [mapestate](0) ✓
┌────┬──────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name         │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼──────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ mapestate    │ default     │ N/A     │ fork    │ 24608    │ 0s     │ 3    │ online    │ 0%       │ 18.8mb   │ root     │ disabled │
└────┴──────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
Failed to restart mapestate.service: Unit mapestate.service not found.
root@srv1027249:/var/www/mapestate.net# 
# 1️⃣ Go to your project directory
cd /var/www/mapestate.net

# 2️⃣ (Optional) Backup your uploads folder before pulling new changes
cp -r server/uploads ~/uploads_backup_$(date +%Y%m%d)

# 3️⃣ Fetch the latest updates from the remote GitHub repo
git fetch origin

# 4️⃣ Pull the latest changes from the main branch
git pull origin main

# 5️⃣ Install or update Node dependencies
npm install

# 6️⃣ (Optional) Fix any vulnerabilities automatically
npm audit fix

# 7️⃣ Build the project (frontend + backend)
npm run build

# 8️⃣ Restart the running application using PM2
pm2 restart all

# 9️⃣ Save the current PM2 process list (so it restarts on reboot)
pm2 save

# 🔟 Check the PM2 process status
pm2 status
From https://github.com/roottgroup-gif/AIMRealty-1
 * branch            main       -> FETCH_HEAD
Already up to date.

up to date, audited 581 packages in 1s

88 packages are looking for funding
  run `npm fund` for details

7 vulnerabilities (1 low, 6 moderate)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

added 7 packages, changed 10 packages, and audited 588 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

# npm audit report

esbuild  <=0.24.2
Severity: moderate
esbuild enables any website to send any requests to the development server and read the response - https://github.com/advisories/GHSA-67mh-4wv8-2f99
fix available via `npm audit fix --force`
Will install drizzle-kit@0.31.6, which is a breaking change
node_modules/@esbuild-kit/core-utils/node_modules/esbuild
node_modules/drizzle-kit/node_modules/esbuild
node_modules/vite/node_modules/esbuild
  @esbuild-kit/core-utils  *
  Depends on vulnerable versions of esbuild
  node_modules/@esbuild-kit/core-utils
    @esbuild-kit/esm-loader  *
    Depends on vulnerable versions of @esbuild-kit/core-utils
    node_modules/@esbuild-kit/esm-loader
      drizzle-kit  0.9.1 - 0.9.54 || >=0.12.9
      Depends on vulnerable versions of @esbuild-kit/esm-loader
      Depends on vulnerable versions of esbuild
      node_modules/drizzle-kit
  vite  0.11.0 - 6.1.6
  Depends on vulnerable versions of esbuild
  node_modules/vite
    @vitejs/plugin-react  2.0.0-alpha.0 - 4.3.3
    Depends on vulnerable versions of vite
    node_modules/@vitejs/plugin-react

6 moderate severity vulnerabilities

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.21 building for production...
✓ 2716 modules transformed.
../dist/public/index.html                                                   9.10 kB │ gzip:   2.70 kB
../dist/public/assets/logo_1757848527935-f97yEqP4.png                      34.60 kB
../dist/public/assets/UniQAIDAR_Asiacell 001_1758107005933-Cl-Cqdhv.ttf    57.23 kB
../dist/public/assets/UniQAIDAR_Asiacell 002_1758107005922-ClO-zV7t.ttf    57.24 kB
../dist/public/assets/US_flag_circular_design_55844ad0-B0cUOQ6G.png       506.88 kB
../dist/public/assets/Saudi_flag_circular_design_3c46c604-D1J1e9j5.png    518.22 kB
../dist/public/assets/Kurdish_flag_circular_design_55e28463-qI8fKU0i.png  529.54 kB
../dist/public/assets/index-CvRKjfG9.css                                  130.08 kB │ gzip:  20.54 kB
../dist/public/assets/filter-BYzr9SWY.js                                    0.33 kB │ gzip:   0.26 kB
../dist/public/assets/arrow-left-CXdBkETt.js                                0.33 kB │ gzip:   0.26 kB
../dist/public/assets/search-CIelg_B6.js                                    0.34 kB │ gzip:   0.27 kB
../dist/public/assets/user-D7wpExFv.js                                      0.37 kB │ gzip:   0.28 kB
../dist/public/assets/dollar-sign-C_6hP0f4.js                               0.39 kB │ gzip:   0.29 kB
../dist/public/assets/heart-BFA3EgV3.js                                     0.41 kB │ gzip:   0.31 kB
../dist/public/assets/globe-1RSNCiJv.js                                     0.41 kB │ gzip:   0.29 kB
../dist/public/assets/circle-alert-DE0jLVDw.js                              0.42 kB │ gzip:   0.29 kB
../dist/public/assets/map-pin-BZoN1N8o.js                                   0.42 kB │ gzip:   0.32 kB
../dist/public/assets/calendar-BBJbfKGN.js                                  0.43 kB │ gzip:   0.30 kB
../dist/public/assets/chart-pie-D2kjJbLE.js                                 0.44 kB │ gzip:   0.33 kB
../dist/public/assets/shield-DE3xY9gd.js                                    0.44 kB │ gzip:   0.32 kB
../dist/public/assets/award-BdJ0l9tU.js                                     0.44 kB │ gzip:   0.33 kB
../dist/public/assets/lightbulb-BGHHkcKs.js                                 0.46 kB │ gzip:   0.33 kB
../dist/public/assets/users-DLJ66-Qn.js                                     0.47 kB │ gzip:   0.32 kB
../dist/public/assets/phone-DI4fTxzw.js                                     0.56 kB │ gzip:   0.36 kB
../dist/public/assets/input-8XbpH-AL.js                                     0.58 kB │ gzip:   0.36 kB
../dist/public/assets/separator-Ccf5NRQU.js                                 0.67 kB │ gzip:   0.40 kB
../dist/public/assets/badge-C2RwgtVP.js                                     0.71 kB │ gzip:   0.37 kB
../dist/public/assets/dashboard-redirect-D2d3nb3-.js                        0.74 kB │ gzip:   0.44 kB
../dist/public/assets/key-6_heTNuA.js                                       0.84 kB │ gzip:   0.42 kB
../dist/public/assets/not-found-DiOpQrTO.js                                 0.91 kB │ gzip:   0.51 kB
../dist/public/assets/label-DKGC8R6K.js                                     0.93 kB │ gzip:   0.60 kB
../dist/public/assets/bed-Dt3HcfNC.js                                       0.94 kB │ gzip:   0.44 kB
../dist/public/assets/card-DR4g04zI.js                                      0.99 kB │ gzip:   0.37 kB
../dist/public/assets/use-local-favorites-iM-tGQvb.js                       1.36 kB │ gzip:   0.61 kB
../dist/public/assets/tag-BEJ7s8Cu.js                                       1.41 kB │ gzip:   0.56 kB
../dist/public/assets/optimized-image-CuNHnlkn.js                           2.21 kB │ gzip:   1.15 kB
../dist/public/assets/avatar-CLw0gwrt.js                                    2.46 kB │ gzip:   1.18 kB
../dist/public/assets/use-properties-BP51Grvb.js                            2.85 kB │ gzip:   0.95 kB
../dist/public/assets/index-DQn3P-Rr.js                                     3.38 kB │ gzip:   1.54 kB
../dist/public/assets/favorites-CXr9GWSV.js                                 3.45 kB │ gzip:   1.39 kB
../dist/public/assets/location-selection-map-BvQ1_wPd.js                    3.76 kB │ gzip:   1.76 kB
../dist/public/assets/admin-login-CpyNFzrX.js                               5.08 kB │ gzip:   1.91 kB
../dist/public/assets/usePropertyEvents-Csq2YxER.js                         5.73 kB │ gzip:   1.83 kB
../dist/public/assets/property-card-DurE3Kr0.js                             7.31 kB │ gzip:   2.76 kB
../dist/public/assets/about-CbtE8Yd3.js                                     8.44 kB │ gzip:   1.97 kB
../dist/public/assets/dialog-DLMZaZ3N.js                                   11.29 kB │ gzip:   3.94 kB
../dist/public/assets/settings-BmhdzsB8.js                                 13.16 kB │ gzip:   3.67 kB
../dist/public/assets/meta-enhancement-DXxpAvMB.js                         14.36 kB │ gzip:   5.74 kB
../dist/public/assets/typography-showcase-BFbVmVAT.js                      14.36 kB │ gzip:   2.86 kB
../dist/public/assets/properties-CBdcnG__.js                               14.67 kB │ gzip:   3.98 kB
../dist/public/assets/Combination-MRLOjtnY.js                              16.93 kB │ gzip:   6.47 kB
../dist/public/assets/home-DS0L3EE0.js                                     20.24 kB │ gzip:   5.53 kB
../dist/public/assets/dropdown-menu-C3FBgPGw.js                            21.26 kB │ gzip:   6.27 kB
../dist/public/assets/select-CA9vNUT8.js                                   21.80 kB │ gzip:   7.61 kB
../dist/public/assets/SEOHead-B-hjVbOc.js                                  22.04 kB │ gzip:   7.85 kB
../dist/public/assets/property-detail-4aiYm12D.js                          33.26 kB │ gzip:   9.77 kB
../dist/public/assets/property-map-BfSWJK5W.js                             48.86 kB │ gzip:  12.86 kB
../dist/public/assets/index-UAl4KTDa.js                                    89.47 kB │ gzip:  25.16 kB
../dist/public/assets/admin-dashboard-D4P2IkjJ.js                          99.46 kB │ gzip:  21.46 kB
../dist/public/assets/customer-dashboard-DV64TLxC.js                      102.72 kB │ gzip:  24.84 kB
../dist/public/assets/client-location-tracking-DrytbaNH.js                195.60 kB │ gzip:  66.43 kB
../dist/public/assets/index-DiLMyJ1j.js                                   317.81 kB │ gzip: 105.95 kB
../dist/public/assets/PieChart-DZSub9-Y.js                                442.42 kB │ gzip: 119.36 kB
✓ built in 15.22s

  dist/index.js  226.9kb

⚡ Done in 31ms
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [all](ids: [ 0 ])
[PM2] [mapestate](0) ✓
┌────┬──────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name         │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼──────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ mapestate    │ default     │ N/A     │ fork    │ 24735    │ 0s     │ 4    │ online    │ 0%       │ 18.3mb   │ root     │ disabled │
└────┴──────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
[PM2] Saving current process list...
[PM2] Successfully saved in /root/.pm2/dump.pm2
┌────┬──────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name         │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼──────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ mapestate    │ default     │ N/A     │ fork    │ 24735    │ 0s     │ 4    │ online    │ 0%       │ 59.0mb   │ root     │ disabled │
└────┴──────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
root@srv1027249:/var/www/mapestate.net# ls
DEPLOYMENT_GUIDE.md          attached_assets          deploy-to-vps.sh    mapestate-database.sql  package.json       scripts             tsconfig.json
DEPLOYMENT_INSTRUCTIONS.md   client                   dist                netlify.toml            postcss.config.js  server              vite.config.ts
GITHUB_PUSH_INSTRUCTIONS.md  components.json          drizzle.config.ts   node_modules            push-to-github.sh  shared              vps-setup-guide.txt
SEO_AUDIT_REPORT.md          create-vps-database.sql  export-database.ts  package-lock.json       replit.md          tailwind.config.ts
root@srv1027249:/var/www/mapestate.net# ls dist/public/sitemap.xml
ls: cannot access 'dist/public/sitemap.xml': No such file or directory
root@srv1027249:/var/www/mapestate.net# 