const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/property-map-1XFWLRkU.js","assets/index-gVtgMtKL.js","assets/index-D9eePA36.css","assets/use-properties-BAMJa5MG.js","assets/map-pin-BZWIKE3O.js","assets/location-selection-map-DlkTBNfA.js"])))=>i.map(i=>d[i]);
import{c as be,r as x,j as e,m as J,a as ls,d as is,n as ve,B as N,X as ns,I as Ws,J as ie,K as se,T as Oe,_ as os,M as te}from"./index-gVtgMtKL.js";import{C as V,a as B,b as Y,c as z,d as H}from"./card-C2dwsEa1.js";import{I as T}from"./input-CLWbKIjf.js";import{S as de,a as ce,b as me,c as xe,d as U}from"./select-BY5_QmCp.js";import{B as G}from"./badge-BqUsHcl3.js";import{A as Le,a as $e,b as De,M as Vs}from"./avatar-DFQf8oBQ.js";import{I as Bs,R as qs,T as Us,L as Rs,S as ds,a as _s,b as Ks,c as Os,d as ae,C as ke,P as Pe,e as re,A as Ce,f as Ys,g as zs,h as Gs,i as Hs,B as Qs,j as Js,X as Xs,Y as Zs,k as et,l as pe,m as st,n as tt,D as Ye,o as ze,p as at,q as rt,r as lt}from"./PieChart-B_t8H8Y8.js";import{u as Ge,t as He,F as Qe,a as F,b as L,c as I,d as M,e as $,z as y}from"./index-Cm5aqmom.js";import{C as it}from"./circle-alert-iLMOYMGk.js";import{u as nt,S as Je,U as ot}from"./usePropertyEvents-B-R4kO-z.js";import{H as le,K as dt}from"./key-gsuhbt2y.js";import{S as ue}from"./search-BBk3ArfH.js";import{M as Ae,H as je}from"./map-pin-BZWIKE3O.js";import{B as Te,M as ct,T as mt}from"./tag-DcfsnTHY.js";import{U as Se}from"./user-Bs_15JvR.js";import{G as Xe}from"./globe-CLo-6ZOT.js";import{P as xt}from"./phone-esQA2H2M.js";import{E as ne}from"./label-BoyKRg9x.js";import{E as Fe}from"./eye-off-DPIeQAry.js";import{B as cs,a as ms}from"./bed-Bvsx4--5.js";import"./Combination-CC3rbWt6.js";import"./index-CnQ9kVxl.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=be("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),gs=x.forwardRef(({className:s,...n},o)=>e.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:o,...n}));gs.displayName="Textarea";function gt({children:s,requiredRole:n,fallbackPath:o="/admin/login"}){const{user:i,isLoading:u}=ls(),[,w]=is(),{toast:P}=ve();return x.useEffect(()=>{if(!u){if(!i){w(o);return}if(n&&!(Array.isArray(n)?n:[n]).includes(i.role)){P({title:"Access Denied",description:"You do not have permission to access this page.",variant:"destructive"}),i.role==="admin"||i.role==="super_admin"?w("/admin/dashboard"):i.role==="agent"?w("/agent/dashboard"):w("/customer/dashboard");return}}},[i,u,n,w,P,o]),u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full"})}):!i||n&&!(Array.isArray(n)?n:[n]).includes(i.role)?null:e.jsx(e.Fragment,{children:s})}function pt({value:s=[],onChange:n,maxFiles:o=10,maxSize:i=5,className:u=""}){const[w,P]=x.useState(!1),[j,E]=x.useState(!1),{toast:b}=ve(),W=h=>new Promise((a,g)=>{const S=new FileReader;S.readAsDataURL(h),S.onload=()=>a(S.result),S.onerror=_=>g(_)}),Q=h=>h.type.startsWith("image/")?h.size>i*1024*1024?(b({title:"File too large",description:`Please upload images smaller than ${i}MB`,variant:"destructive"}),!1):!0:(b({title:"Invalid file type",description:"Please upload only image files (JPG, PNG, GIF, etc.)",variant:"destructive"}),!1),D=x.useCallback(async h=>{if(s.length+h.length>o){b({title:"Too many files",description:`You can upload maximum ${o} images`,variant:"destructive"});return}E(!0);const a=[];try{for(let g=0;g<h.length;g++){const S=h[g];if(Q(S)){const _=await W(S);a.push(_)}}a.length>0&&(n([...s,...a]),b({title:"Images uploaded",description:`Successfully uploaded ${a.length} image(s)`}))}catch{b({title:"Upload failed",description:"Failed to process some images. Please try again.",variant:"destructive"})}finally{E(!1)}},[s,n,o,i,b]),Z=x.useCallback(h=>{h.preventDefault(),P(!1);const a=h.dataTransfer.files;a.length>0&&D(a)},[D]),K=x.useCallback(h=>{h.preventDefault(),P(!0)},[]),q=x.useCallback(h=>{h.preventDefault(),P(!1)},[]),O=x.useCallback(h=>{const a=h.target.files;a&&a.length>0&&D(a),h.target.value=""},[D]),v=x.useCallback(h=>{const a=[...s];a.splice(h,1),n(a),b({title:"Image removed",description:"Image has been removed from the list"})},[s,n,b]);return e.jsxs("div",{className:`space-y-4 ${u}`,children:[e.jsx(V,{className:`relative border-2 border-dashed transition-colors ${w?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:e.jsxs(B,{className:"p-8 text-center cursor-pointer",onDrop:Z,onDragOver:K,onDragLeave:q,onClick:()=>{var h;return(h=document.getElementById("file-input"))==null?void 0:h.click()},children:[e.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:O,disabled:j||s.length>=o}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:j?e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full"}):e.jsx(hs,{className:`h-8 w-8 ${w?"text-blue-500":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:j?"Uploading images...":"Upload Property Images"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag & drop images here, or click to select files"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Supports JPG, PNG, GIF up to ",i,"MB each. Maximum ",o," images."]})]}),s.length>0&&e.jsxs(G,{variant:"secondary",className:"text-xs",children:[s.length,"/",o," images uploaded"]})]})]})}),s.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4"}),"Uploaded Images (",s.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:s.map((h,a)=>e.jsx(V,{className:"relative group overflow-hidden",children:e.jsx(B,{className:"p-2",children:e.jsxs("div",{className:"relative aspect-square",children:[e.jsx("img",{src:h,alt:`Property image ${a+1}`,className:"w-full h-full object-cover rounded-md",loading:"lazy",decoding:"async"}),e.jsx(N,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:g=>{g.stopPropagation(),v(a)},children:e.jsx(ns,{className:"h-3 w-3"})}),e.jsxs(G,{variant:"secondary",className:"absolute bottom-1 left-1 text-xs px-1 py-0",children:["#",a+1]})]})})},a))})]}),s.length===0&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"Add multiple high-quality images to showcase your property. The first image will be used as the main photo."})]})]})}function ut({value:s="",onChange:n,currentUser:o,maxSize:i=2,className:u=""}){const[w,P]=x.useState(!1),[j,E]=x.useState(!1),{toast:b}=ve(),W=a=>new Promise((g,S)=>{const _=new FileReader;_.readAsDataURL(a),_.onload=()=>g(_.result),_.onerror=m=>S(m)}),Q=a=>a.type.startsWith("image/")?a.size>i*1024*1024?(b({title:"File too large",description:`Please upload images smaller than ${i}MB`,variant:"destructive"}),!1):!0:(b({title:"Invalid file type",description:"Please upload only image files (JPG, PNG, GIF, etc.)",variant:"destructive"}),!1),D=x.useCallback(async a=>{if(a.length===0)return;const g=a[0];if(Q(g)){E(!0);try{const S=await W(g);n(S),b({title:"Profile photo uploaded",description:"Your profile photo has been updated successfully"})}catch{b({title:"Upload failed",description:"Failed to process the image. Please try again.",variant:"destructive"})}finally{E(!1)}}},[n,i,b]),Z=x.useCallback(a=>{a.preventDefault(),P(!1);const g=a.dataTransfer.files;g.length>0&&D(g)},[D]),K=x.useCallback(a=>{a.preventDefault(),P(!0)},[]),q=x.useCallback(a=>{a.preventDefault(),P(!1)},[]),O=x.useCallback(a=>{const g=a.target.files;g&&g.length>0&&D(g),a.target.value=""},[D]),v=x.useCallback(()=>{n(""),b({title:"Profile photo removed",description:"Your profile photo has been removed"})},[n,b]),h=()=>{var a;return o!=null&&o.firstName&&(o!=null&&o.lastName)?`${o.firstName[0]}${o.lastName[0]}`:((a=o==null?void 0:o.username)==null?void 0:a[0])||"U"};return e.jsxs("div",{className:`space-y-4 ${u}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Le,{className:"h-20 w-20",children:[e.jsx($e,{src:s}),e.jsx(De,{className:"text-lg",children:h()})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Profile Photo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a new photo or drag and drop"})]})]}),e.jsxs("div",{className:`
          relative border-2 border-dashed rounded-lg p-6 text-center transition-colors
          ${w?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-300 dark:border-gray-600"}
          ${j?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-blue-400"}
        `,onDrop:Z,onDragOver:K,onDragLeave:q,children:[e.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:j,"data-testid":"input-profile-photo"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ht,{className:"h-8 w-8 mx-auto text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:j?"Uploading...":"Click to upload or drag and drop"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["PNG, JPG, GIF up to ",i,"MB"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=document.querySelector('input[data-testid="input-profile-photo"]'))==null?void 0:a.click()},disabled:j,"data-testid":"button-choose-photo",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Choose Photo"]}),s&&e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:v,disabled:j,"data-testid":"button-remove-photo",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})}const jt={light:"",dark:".dark"},ps=x.createContext(null);function us(){const s=x.useContext(ps);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const Ie=x.forwardRef(({id:s,className:n,children:o,config:i,...u},w)=>{const P=x.useId(),j=`chart-${s||P.replace(/:/g,"")}`;return e.jsx(ps.Provider,{value:{config:i},children:e.jsxs("div",{"data-chart":j,ref:w,className:J("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...u,children:[e.jsx(bt,{id:j,config:i}),e.jsx(qs,{children:o})]})})});Ie.displayName="Chart";const bt=({id:s,config:n})=>{const o=Object.entries(n).filter(([,i])=>i.theme||i.color);return o.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(jt).map(([i,u])=>`
${u} [data-chart=${s}] {
${o.map(([w,P])=>{var E;const j=((E=P.theme)==null?void 0:E[i])||P.color;return j?`  --color-${w}: ${j};`:null}).join(`
`)}
}
`).join(`
`)}}):null},es=Us,Me=x.forwardRef(({active:s,payload:n,className:o,indicator:i="dot",hideLabel:u=!1,hideIndicator:w=!1,label:P,labelFormatter:j,labelClassName:E,formatter:b,color:W,nameKey:Q,labelKey:D},Z)=>{const{config:K}=us(),q=x.useMemo(()=>{var S;if(u||!(n!=null&&n.length))return null;const[v]=n,h=`${D||(v==null?void 0:v.dataKey)||(v==null?void 0:v.name)||"value"}`,a=We(K,v,h),g=!D&&typeof P=="string"?((S=K[P])==null?void 0:S.label)||P:a==null?void 0:a.label;return j?e.jsx("div",{className:J("font-medium",E),children:j(g,n)}):g?e.jsx("div",{className:J("font-medium",E),children:g}):null},[P,j,n,u,E,K,D]);if(!s||!(n!=null&&n.length))return null;const O=n.length===1&&i!=="dot";return e.jsxs("div",{ref:Z,className:J("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",o),children:[O?null:q,e.jsx("div",{className:"grid gap-1.5",children:n.map((v,h)=>{const a=`${Q||v.name||v.dataKey||"value"}`,g=We(K,v,a),S=W||v.payload.fill||v.color;return e.jsx("div",{className:J("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",i==="dot"&&"items-center"),children:b&&(v==null?void 0:v.value)!==void 0&&v.name?b(v.value,v.name,v,h,v.payload):e.jsxs(e.Fragment,{children:[g!=null&&g.icon?e.jsx(g.icon,{}):!w&&e.jsx("div",{className:J("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":i==="dot","w-1":i==="line","w-0 border-[1.5px] border-dashed bg-transparent":i==="dashed","my-0.5":O&&i==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),e.jsxs("div",{className:J("flex flex-1 justify-between leading-none",O?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[O?q:null,e.jsx("span",{className:"text-muted-foreground",children:(g==null?void 0:g.label)||v.name})]}),v.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:v.value.toLocaleString()})]})]})},v.dataKey)})})]})});Me.displayName="ChartTooltip";const ss=Rs,Ee=x.forwardRef(({className:s,hideIcon:n=!1,payload:o,verticalAlign:i="bottom",nameKey:u},w)=>{const{config:P}=us();return o!=null&&o.length?e.jsx("div",{ref:w,className:J("flex items-center justify-center gap-4",i==="top"?"pb-3":"pt-3",s),children:o.map(j=>{const E=`${u||j.dataKey||"value"}`,b=We(P,j,E);return e.jsxs("div",{className:J("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[b!=null&&b.icon&&!n?e.jsx(b.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:j.color}}),b==null?void 0:b.label]},j.value)})}):null});Ee.displayName="ChartLegend";function We(s,n,o){if(typeof n!="object"||n===null)return;const i="payload"in n&&typeof n.payload=="object"&&n.payload!==null?n.payload:void 0;let u=o;return o in n&&typeof n[o]=="string"?u=n[o]:i&&o in i&&typeof i[o]=="string"&&(u=i[o]),u in s?s[u]:s[o]}const vt=x.lazy(()=>os(()=>import("./property-map-1XFWLRkU.js"),__vite__mapDeps([0,1,2,3,4]))),ft=x.lazy(()=>os(()=>import("./location-selection-map-DlkTBNfA.js"),__vite__mapDeps([5,1,2]))),yt={en:{propertyTitle:"Property Title",propertyType:"Property Type",listingType:"Listing Type",price:"Price (USD)",area:"Area (M²)",address:"Address",selectLanguage:"Select Language",titlePlaceholder:"e.g., Beautiful 3-bedroom villa",descriptionPlaceholder:"Describe your property in detail...",pricePlaceholder:"e.g., 150000",areaPlaceholder:"e.g., 1200",bedroomsPlaceholder:"e.g., 3",bathroomsPlaceholder:"e.g., 2",addressPlaceholder:"e.g., 123 Main Street",phonePlaceholder:"e.g., +964 750 123 4567",house:"House",apartment:"Apartment",villa:"Villa",land:"Land",sale:"For Sale",rent:"For Rent",bedrooms:"Bedrooms",bathrooms:"Bathrooms",city:"City",country:"Country",contactPhone:"Contact Phone",propertyWave:"Property Wave",amenities:"Amenities",features:"Features",description:"Description",propertyImages:"Property Images",propertyLocation:"Select Property Location",propertyVisibility:"Property Visibility",contactPhonePlaceholder:"e.g., +964 750 123 4567",cityPlaceholder:"e.g., Erbil",countryPlaceholder:"e.g., Iraq",selectWavePlaceholder:"Select a wave for this property",addNewProperty:"Add New Property",updateProperty:"Update Property",sharePropertyText:"Share your property with others by adding it to our platform",updatePropertyText:"Update your property details",selectPropertyLanguage:"Select Property Language",languageDescription:"Choose the language for your property listing. This will change the form to that language and set the property's display language.",language:"Language",change:"Change",selectLocationTitle:"📍 Select Property Location",selectLocationDesc:"Click on the map to pinpoint your property's exact location. We'll automatically fill in the address, city, and country fields for you!",smartAutoFill:"Smart Auto-Fill Enabled",autoFillDesc:"Address details will be automatically detected and filled when you click on the map",locationSelected:"Location Selected",coordinates:"Coordinates",propertyImagesTitle:"📷 Property Images",propertyImagesDesc:"Upload high-quality images of your property. The first image will be used as the main photo.",propertyVisibilityTitle:"👁️ Property Visibility",propertyVisibilityDesc:"Control whether your property appears on the public map and search results.",visibleOnMap:"Visible on Map",hiddenFromMap:"Hidden from Map",visibleDesc:"Your property will be visible to other users on the map and in search results",hiddenDesc:"Your property will be hidden from the public map and search results",visible:"Visible",hidden:"Hidden",waveBalance:"Property Wave",remaining:"remaining",unlimited:"Unlimited",noWavesRemaining:"No Waves Remaining",waveBalanceWarning:"You have used all {total} of your wave assignments. You must buy balance to continue assigning properties to waves.",noWave:"No Wave",premiumWave:"Premium Wave",noWavesAvailable:"No waves available",waveDescription:"Assign your property to a wave to organize it with similar properties. This helps with map viewing and property management.",contactPhoneNote:"This phone number will be shown to interested buyers for WhatsApp and calls",swimmingPool:"Swimming Pool",garden:"Garden",parking:"Parking",securitySystem:"Security System",elevator:"Elevator",gym:"Gym",balcony:"Balcony",terrace:"Terrace",airConditioning:"Air Conditioning",heating:"Heating",furnished:"Furnished",petFriendly:"Pet Friendly",fireplace:"Fireplace",highCeilings:"High Ceilings",modernKitchen:"Modern Kitchen",storageRoom:"Storage Room",required:"required",optional:"optional",selectPropertyType:"Select property type",selectListingType:"Select listing type",selectLanguageFirst:"Please select a language to continue"},ar:{propertyTitle:"عنوان العقار",propertyType:"نوع العقار",listingType:"نوع الإعلان",price:"السعر (دولار أمريكي)",area:"المساحة (قدم مربع)",address:"العنوان",selectLanguage:"اختر اللغة",titlePlaceholder:"مثال: فيلا جميلة من 3 غرف نوم",descriptionPlaceholder:"صف عقارك بالتفصيل...",pricePlaceholder:"مثال: 150000",areaPlaceholder:"مثال: 1200",bedroomsPlaceholder:"مثال: 3",bathroomsPlaceholder:"مثال: 2",addressPlaceholder:"مثال: 123 الشارع الرئيسي",phonePlaceholder:"مثال: +964 750 123 4567",house:"منزل",apartment:"شقة",villa:"فيلا",land:"أرض",sale:"للبيع",rent:"للإيجار",bedrooms:"غرف النوم",bathrooms:"دورات المياه",city:"المدينة",country:"البلد",contactPhone:"رقم الاتصال",propertyWave:"موجة العقار",amenities:"المرافق",features:"المميزات",description:"الوصف",propertyImages:"صور العقار",propertyLocation:"اختر موقع العقار",propertyVisibility:"ظهور العقار",contactPhonePlaceholder:"مثال: +964 750 123 4567",cityPlaceholder:"مثال: أربيل",countryPlaceholder:"مثال: العراق",selectWavePlaceholder:"اختر موجة لهذا العقار",addNewProperty:"إضافة عقار جديد",updateProperty:"تحديث العقار",sharePropertyText:"شارك عقارك مع الآخرين عن طريق إضافته إلى منصتنا",updatePropertyText:"تحديث تفاصيل عقارك",selectPropertyLanguage:"اختر لغة العقار",languageDescription:"اختر لغة قائمة العقار الخاص بك. سيؤدي هذا إلى تغيير النموذج إلى تلك اللغة وتعيين لغة عرض العقار.",language:"اللغة",change:"تغيير",selectLocationTitle:"📍 اختر موقع العقار",selectLocationDesc:"انقر على الخريطة لتحديد الموقع الدقيق لعقارك. سنقوم بتعبئة العنوان والمدينة والبلد تلقائياً!",smartAutoFill:"التعبئة التلقائية الذكية مفعلة",autoFillDesc:"سيتم اكتشاف تفاصيل العنوان وتعبئتها تلقائياً عند النقر على الخريطة",locationSelected:"تم اختيار الموقع",coordinates:"الإحداثيات",propertyImagesTitle:"📷 صور العقار",propertyImagesDesc:"ارفع صوراً عالية الجودة لعقارك. ستُستخدم الصورة الأولى كصورة رئيسية.",propertyVisibilityTitle:"👁️ ظهور العقار",propertyVisibilityDesc:"تحكم في ظهور عقارك على الخريطة العامة ونتائج البحث.",visibleOnMap:"ظاهر على الخريطة",hiddenFromMap:"مخفي من الخريطة",visibleDesc:"سيكون عقارك ظاهراً للمستخدمين الآخرين على الخريطة وفي نتائج البحث",hiddenDesc:"سيكون عقارك مخفياً من الخريطة العامة ونتائج البحث",visible:"ظاهر",hidden:"مخفي",waveBalance:"موجة العقار",remaining:"متبقي",unlimited:"غير محدود",noWavesRemaining:"لا توجد موجات متبقية",waveBalanceWarning:"لقد استخدمت جميع مهام الموجة البالغة {total}. يجب عليك شراء رصيد للمتابعة في تعيين العقارات للموجات.",noWave:"بدون موجة",premiumWave:"موجة مميزة",noWavesAvailable:"لا توجد موجات متاحة",waveDescription:"عين عقارك إلى موجة لتنظيمه مع عقارات مماثلة. هذا يساعد في عرض الخريطة وإدارة العقارات.",contactPhoneNote:"سيظهر رقم الهاتف هذا للمشترين المهتمين للواتساب والمكالمات",swimmingPool:"مسبح",garden:"حديقة",parking:"موقف سيارات",securitySystem:"نظام أمني",elevator:"مصعد",gym:"صالة رياضية",balcony:"شرفة",terrace:"تراس",airConditioning:"تكييف الهواء",heating:"تدفئة",furnished:"مفروش",petFriendly:"مناسب للحيوانات الأليفة",fireplace:"مدفأة",highCeilings:"أسقف عالية",modernKitchen:"مطبخ عصري",storageRoom:"غرفة تخزين",required:"مطلوب",optional:"اختياري",selectPropertyType:"اختر نوع العقار",selectListingType:"اختر نوع الإعلان",selectLanguageFirst:"يرجى اختيار لغة للمتابعة"},kur:{propertyTitle:"ناونیشانی موڵک",propertyType:"جۆری موڵک",listingType:"جۆری ڕیکلام",price:"نرخ (دۆلاری ئەمریکی)",area:"ڕووبەر (پێ چوارگۆشە)",bedrooms:"ژووری نوستن",bathrooms:"ژووری ئاو",address:"ناونیشان",city:"شار",country:"وڵات",contactPhone:"ژمارەی پەیوەندی",propertyWave:"شەپۆلی موڵک",selectLanguage:"زمان هەڵبژێرە",titlePlaceholder:"نموونە: ڤیلایەکی جوان بە 3 ژووری نوستن",descriptionPlaceholder:"موڵکەکەت بە ورووژی وەسف بکە...",pricePlaceholder:"نموونە: 150000",areaPlaceholder:"نموونە: 1200",bedroomsPlaceholder:"نموونە: 3",bathroomsPlaceholder:"نموونە: 2",addressPlaceholder:"نموونە: 123 شەقامی سەرەکی",cityPlaceholder:"نموونە: هەولێر",countryPlaceholder:"نموونە: عێراق",phonePlaceholder:"نموونە: +964 750 123 4567",house:"ماڵ",apartment:"شوقە",villa:"ڤیلا",land:"زەوی",sale:"بۆ فرۆشتن",rent:"بۆ کرێ",amenities:"گەرەکیەکان",features:"تایبەتمەندیەکان",description:"وەسف",propertyImages:"وێنەکانی موڵک",propertyLocation:"شوێنی موڵک هەڵبژێرە",propertyVisibility:"دیارکردنی موڵک",contactPhonePlaceholder:"نموونە: +964 750 123 4567",selectWavePlaceholder:"شەپۆلێک بۆ ئەم موڵکە هەڵبژێرە",addNewProperty:"موڵکی نوێ زیاد بکە",updateProperty:"موڵک نوێ بکەرەوە",sharePropertyText:"موڵکەکەت لەگەڵ کەسانی دیکە هاوبەش بکە بە زیادکردنی بۆ سەکۆمان",updatePropertyText:"وردەکارییەکانی موڵکەکەت نوێ بکەرەوە",selectPropertyLanguage:"زمانی موڵک هەڵبژێرە",languageDescription:"زمانێک بۆ لیستی موڵکەکەت هەڵبژێرە. ئەمە فۆڕمەکە دەگۆڕێت بۆ ئەو زمانە و زمانی پیشاندانی موڵکەکە دادەنێت.",language:"زمان",change:"گۆڕین",selectLocationTitle:"📍 شوێنی موڵک هەڵبژێرە",selectLocationDesc:"لەسەر نەخشەکە کلیک بکە بۆ دیاریکردنی شوێنی وردی موڵکەکەت. ئێمە بە شێوەیەکی خۆکارانە ناونیشان و شار و وڵات پڕ دەکەینەوە!",smartAutoFill:"پڕکردنەوەی زیرەکانەی خۆکارانە چالاککراوە",autoFillDesc:"وردەکارییەکانی ناونیشان بە شێوەیەکی خۆکارانە دەدۆزرێنەوە و پڕ دەکرێنەوە کاتێک لەسەر نەخشەکە کلیک دەکەیت",locationSelected:"شوێن هەڵبژێردرا",coordinates:"هاوپەیمانیەکان",propertyImagesTitle:"📷 وێنەکانی موڵک",propertyImagesDesc:"وێنەی بەرزی کوالیتی بۆ موڵکەکەت بارپێچ بکە. یەکەم وێنە وەک وێنەی سەرەکی بەکار دەهێنرێت.",propertyVisibilityTitle:"👁️ دیارکردنی موڵک",propertyVisibilityDesc:"کۆنترۆڵی ئەوە بکە کە موڵکەکەت لەسەر نەخشەی گشتی و ئەنجامەکانی گەڕان دەردەکەوێت.",visibleOnMap:"لەسەر نەخشە دیارە",hiddenFromMap:"لە نەخشە شاراوەیە",visibleDesc:"موڵکەکەت بۆ بەکارهێنەرانی دیکە لەسەر نەخشە و لە ئەنجامەکانی گەڕان دیار دەبێت",hiddenDesc:"موڵکەکەت لە نەخشەی گشتی و ئەنجامەکانی گەڕان شاردراوە دەبێت",visible:"دیار",hidden:"شاراوە",waveBalance:"شەپۆلی موڵک",remaining:"ماوە",unlimited:"سنووردار نییە",noWavesRemaining:"هیچ شەپۆلێک نەماوە",waveBalanceWarning:"تۆ هەموو {total} ئەرکەکانی شەپۆڵت بەکارهێناوە. دەبێت بڕی پارە بکڕیت بۆ بەردەوامبوون لە دانانی موڵکەکان بۆ شەپۆلەکان.",noWave:"بێ شەپۆل",premiumWave:"شەپۆلی تایبەت",noWavesAvailable:"هیچ شەپۆلێک بەردەست نییە",waveDescription:"موڵکەکەت بۆ شەپۆلێک دابنێ بۆ ڕێکخستنی لەگەڵ موڵکە هاوشێوەکان. ئەمە یارمەتی پیشاندانی نەخشە و بەڕێوەبردنی موڵکەکان دەدات.",contactPhoneNote:"ئەم ژمارە تەلەفۆنە بۆ کڕیارە ئارەزووبەکان پیشان دەدرێت بۆ واتساپ و پەیوەندیکردن",swimmingPool:"مەلەوانی مەلە",garden:"باغچە",parking:"شوێنی ئۆتۆمبێل",securitySystem:"سیستەمی ئەمنی",elevator:"ئاسانسۆر",gym:"زیمی ریازی",balcony:"ئەیوان",terrace:"تەراس",airConditioning:"کولەرکەر",heating:"گەرمکەر",furnished:"بە کەلوپەل",petFriendly:"گونجاو بۆ ئاژەڵەکان",fireplace:"بخاری با",highCeilings:"بانی بەرز",modernKitchen:"مەٹبەخی سەردەم",storageRoom:"ژووری کۆگاکراوە",required:"پێویست",optional:"ئیختیاری",selectPropertyType:"جۆری موڵک هەڵبژێرە",selectListingType:"جۆری ڕیکلام هەڵبژێرە",selectLanguageFirst:"تکایە زمانێک هەڵبژێرە بۆ بەردەوامبوون"}},Nt=y.object({title:y.string().min(1,"Title is required"),description:y.string().min(10,"Description must be at least 10 characters"),type:y.enum(["house","apartment","villa","land"]),listingType:y.enum(["sale","rent"]),price:y.string().min(1,"Price is required").refine(s=>!isNaN(Number(s))&&Number(s)>0,"Price must be a valid positive number"),currency:y.string().default("USD"),bedrooms:y.number().min(0).optional(),bathrooms:y.number().min(0).optional(),area:y.number().min(1,"Area is required"),address:y.string().min(1,"Address is required"),city:y.string().min(1,"City is required"),country:y.string().min(1,"Country is required").default("Iraq"),latitude:y.number().optional(),longitude:y.number().optional(),images:y.array(y.string()).default([]),amenities:y.array(y.string()).default([]),features:y.array(y.string()).default([]),contactPhone:y.string().optional(),waveId:y.string().optional(),status:y.enum(["active","inactive"]).default("active"),language:y.enum(ds).default("en")}),wt=y.object({firstName:y.string().min(1,"First name is required"),lastName:y.string().min(1,"Last name is required"),phone:y.string().optional(),avatar:y.string().optional()}),ts=s=>{if(!s)return null;const n=new Date,i=(s instanceof Date?s:new Date(s)).getTime()-n.getTime();return Math.ceil(i/(1e3*60*60*24))},as=s=>s===null?{status:"Active",color:"text-green-600",bgColor:"bg-green-100",icon:"✓",title:"Account Active",description:"Your account has no expiration date."}:s<0?{status:"Expired",color:"text-red-600",bgColor:"bg-red-100",icon:"⚠️",title:"Account Expired",description:"Your account has expired. Please contact support to renew."}:s<=3?{status:`${s} days left`,color:"text-red-600",bgColor:"bg-red-100",icon:"🚨",title:"Account Expiring Soon",description:`Your account expires in ${s} day${s===1?"":"s"}. Please contact support to extend it.`}:s<=7?{status:`${s} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100",icon:"⚡",title:"Account Expiring",description:`Your account expires in ${s} days. Consider contacting support to extend it.`}:{status:`${s} days left`,color:"text-green-600",bgColor:"bg-green-100",icon:"✓",title:"Account Active",description:`Your account expires in ${s} days.`},p=s=>s==="ar"||s==="kur"||s==="ku"?"rtl":"ltr",c=(s,n="")=>{const i=p(s)==="rtl"?"text-right":"text-left";return`${n} ${i}`.trim()};function Yt(){var Ue,Re,_e,Ke;const{user:s,logout:n}=ls(),[,o]=is(),{toast:i}=ve(),u=Ws(),[w,P]=x.useState(""),[j,E]=x.useState({limit:100}),[b,W]=x.useState("overview"),[Q,D]=x.useState(null),[Z,K]=x.useState(!1),[q,O]=x.useState(null),[v,h]=x.useState(!1),[a,g]=x.useState("en"),[S,_]=x.useState(!0);nt({onPropertyCreated:t=>{console.log("New property created in dashboard:",t.title)}});const m=Ge({resolver:He(Nt),defaultValues:{title:"",description:"",type:"house",listingType:"sale",price:"",currency:"USD",bedrooms:1,bathrooms:1,area:1,address:"",city:"",country:"Iraq",latitude:void 0,longitude:void 0,images:[],amenities:[],features:[],contactPhone:(s==null?void 0:s.phone)||"",waveId:"",status:"active",language:"en"}}),X=Ge({resolver:He(wt),defaultValues:{firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",phone:(s==null?void 0:s.phone)||"",avatar:(s==null?void 0:s.avatar)||""}});x.useEffect(()=>{s&&X.reset({firstName:s.firstName||"",lastName:s.lastName||"",phone:s.phone||"",avatar:s.avatar||""})},[s,X]),x.useEffect(()=>{s!=null&&s.phone&&m.getValues("contactPhone")!==s.phone&&m.setValue("contactPhone",s.phone)},[s,m]);const js=(s==null?void 0:s.allowedLanguages)||["en"],fe=ds.filter(t=>js.includes(t));x.useEffect(()=>{b==="add-property"&&!q&&(_(!0),g("en"),m.setValue("language","en"))},[b,q,m]),x.useEffect(()=>{m.setValue("language",a)},[a,m]);const l=yt[a],{data:Ve=[],isLoading:bs}=ie({queryKey:["/api/properties",j],queryFn:async()=>{const t=new URLSearchParams;Object.entries(j).forEach(([C,A])=>{A!=null&&A!==""&&t.append(C,A.toString())});const r=await fetch(`/api/properties?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch properties");return r.json()}}),{data:oe=[]}=ie({queryKey:["/api/users",s==null?void 0:s.id,"favorites"],enabled:!!(s!=null&&s.id)});ie({queryKey:[`/api/customers/${s==null?void 0:s.id}/analytics`],enabled:!!(s!=null&&s.id)});const{data:d,isLoading:ye}=ie({queryKey:["/api/auth/wave-balance"],enabled:!!(s!=null&&s.id),refetchOnWindowFocus:!0}),{data:R}=ie({queryKey:["/api/properties",{limit:1e3}],select:t=>{const r=(t==null?void 0:t.reduce((f,k)=>(f[k.type]=(f[k.type]||0)+1,f),{}))||{},C=(t==null?void 0:t.reduce((f,k)=>(f[k.listingType]=(f[k.listingType]||0)+1,f),{}))||{},A=(t==null?void 0:t.reduce((f,k)=>(k.status&&(f[k.status]=(f[k.status]||0)+1),f),{}))||{};return{total:(t==null?void 0:t.length)||0,byType:Object.entries(r).map(([f,k])=>({name:f,value:k})),byListingType:Object.entries(C).map(([f,k])=>({name:f,value:k})),byStatus:Object.entries(A).map(([f,k])=>({name:f,value:k}))}}}),{data:ee=[],isLoading:vs}=ie({queryKey:["/api/users",s==null?void 0:s.id,"properties"],queryFn:async()=>{if(!(s!=null&&s.id))return[];const t=await fetch(`/api/users/${s.id}/properties`);if(!t.ok)throw new Error("Failed to fetch user properties");return t.json()},enabled:!!(s!=null&&s.id)}),fs=se({mutationFn:async t=>await(await te("POST","/api/favorites",{userId:s==null?void 0:s.id,propertyId:t})).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"favorites"]}),i({title:"Success",description:"Property added to favorites"})},onError:t=>{i({title:"Error",description:t.message||"Failed to add to favorites",variant:"destructive"})}}),ys=se({mutationFn:async t=>await(await te("DELETE","/api/favorites",{userId:s==null?void 0:s.id,propertyId:t})).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"favorites"]}),i({title:"Success",description:"Property removed from favorites"})},onError:t=>{i({title:"Error",description:t.message||"Failed to remove from favorites",variant:"destructive"})}}),he=se({mutationFn:async t=>await(await te("POST","/api/properties",{...t,agentId:s==null?void 0:s.id})).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/properties"]}),u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"properties"]}),u.refetchQueries({queryKey:["/api/users",s==null?void 0:s.id,"properties"]}),m.reset(),D(null),i({title:"Success",description:'Property added successfully! Check the "My Properties" tab to see it.'}),W("my-properties")},onError:t=>{i({title:"Error",description:t.message||"Failed to add property",variant:"destructive"})}}),ge=se({mutationFn:async({id:t,data:r})=>await(await te("PUT",`/api/properties/${t}`,r)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/properties"]}),u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"properties"]}),O(null),m.reset(),D(null),i({title:"Success",description:"Property updated successfully"}),W("my-properties")},onError:t=>{i({title:"Error",description:t.message||"Failed to update property",variant:"destructive"})}}),Ns=se({mutationFn:async t=>await(await te("DELETE",`/api/properties/${t}`)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/properties"]}),u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"properties"]}),i({title:"Success",description:"Property deleted successfully"})},onError:t=>{i({title:"Error",description:t.message||"Failed to delete property",variant:"destructive"})}}),ws=se({mutationFn:async({propertyId:t,newStatus:r})=>await(await te("PUT",`/api/properties/${t}`,{status:r})).json(),onSuccess:(t,r)=>{u.invalidateQueries({queryKey:["/api/properties"]}),u.invalidateQueries({queryKey:["/api/users",s==null?void 0:s.id,"properties"]}),i({title:"Success",description:r.newStatus==="active"?"Property is now visible on the map":"Property is now hidden from the map"})},onError:t=>{i({title:"Error",description:t.message||"Failed to update property visibility",variant:"destructive"})}}),Ne=se({mutationFn:async t=>await(await te("PUT","/api/profile",t)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/auth/user"]}),K(!1),i({title:"Success",description:"Profile updated successfully!"})},onError:t=>{i({title:"Error",description:t.message||"Failed to update profile",variant:"destructive"})}}),ks=async()=>{try{await n(),o("/admin/login")}catch{i({title:"Error",description:"Logout failed",variant:"destructive"})}},Ps=t=>{fs.mutate(t)},Be=t=>{ys.mutate(t)},Cs=t=>oe.some(r=>r.id===t),Ts=t=>{E(t)},we=t=>{const r=t.slug||t.id;o(`/property/${r}`)},Ss=t=>{const r={...t,price:t.price,latitude:t.latitude?t.latitude.toString():void 0,longitude:t.longitude?t.longitude.toString():void 0,waveId:t.waveId==="no-wave"?null:t.waveId,country:t.country||"Iraq",currency:t.currency||"USD",images:t.images||[],amenities:t.amenities||[],features:t.features||[]};q?ge.mutate({id:q.id,data:r}):he.mutate(r)},Fs=t=>{Ne.mutate(t)},Ls=t=>{O(t);const r=t.language||"en";g(r),_(!1),m.reset({title:t.title,description:t.description||"",type:t.type,listingType:t.listingType,price:t.price.toString(),currency:t.currency||"USD",bedrooms:t.bedrooms||0,bathrooms:t.bathrooms||0,area:t.area||0,address:t.address,city:t.city,country:t.country,contactPhone:t.contactPhone||(s==null?void 0:s.phone)||"",amenities:t.amenities||[],features:t.features||[],images:t.images||[],status:t.status==="active"?"active":"inactive",language:r}),t.latitude&&t.longitude&&D({lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)}),W("add-property")},$s=async(t,r)=>{window.confirm(`Are you sure you want to delete "${r}"?`)&&Ns.mutate(t)},Ds=(t,r)=>{const C=r==="active"?"inactive":"active";ws.mutate({propertyId:t,newStatus:C})},As=()=>{O(null),m.reset({title:"",description:"",type:"house",listingType:"sale",price:"",currency:"USD",bedrooms:1,bathrooms:1,area:1,address:"",city:"",country:"Iraq",latitude:void 0,longitude:void 0,images:[],amenities:[],features:[],contactPhone:(s==null?void 0:s.phone)||"",waveId:"",status:"active"}),D(null),W("my-properties")},Is=()=>{K(!1),X.reset({firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",phone:(s==null?void 0:s.phone)||"",avatar:(s==null?void 0:s.avatar)||""})},Ms=t=>{const{lat:r,lng:C,address:A,city:f,country:k}=t;D({lat:r,lng:C}),m.setValue("latitude",r),m.setValue("longitude",C),A&&A.trim()&&(m.setValue("address",A.trim()),i({title:"Address Auto-filled",description:`Address set to: ${A}`})),f&&f.trim()&&m.setValue("city",f.trim()),k&&k.trim()&&m.setValue("country",k.trim()),A||f||k?i({title:"Location Details Found",description:"Address fields have been automatically filled from the selected location."}):r>35&&r<37.5&&C>43&&C<46&&(m.getValues("city")||m.setValue("city","Erbil"),m.getValues("country")||m.setValue("country","Iraq"))},qe=Ve.filter(t=>{var C;if(!w)return!0;const r=w.toLowerCase();return t.title.toLowerCase().includes(r)||((C=t.description)==null?void 0:C.toLowerCase().includes(r))||t.address.toLowerCase().includes(r)||t.city.toLowerCase().includes(r)||t.type.toLowerCase().includes(r)});return e.jsxs(gt,{requiredRole:["user","admin"],children:[e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-gradient-to-r from-orange-600 to-orange-700 dark:from-orange-800 dark:to-orange-900 shadow-lg border-b border-orange-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-4 sm:py-6 space-y-3 sm:space-y-0",children:[e.jsx("div",{className:"flex items-center justify-center sm:justify-start space-x-2 sm:space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:e.jsx(le,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Property Portal"}),e.jsx("p",{className:"text-xs sm:text-sm text-orange-100 hidden sm:block",children:"Find Your Dream Home"})]})]})}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-2 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 bg-white/10 rounded-lg px-2 sm:px-3 py-1 sm:py-2",children:[e.jsxs(Le,{className:"h-8 w-8 sm:h-10 sm:w-10",children:[e.jsx($e,{src:(s==null?void 0:s.avatar)||"",alt:"Profile photo"}),e.jsxs(De,{className:"bg-white text-orange-600 font-medium",children:[(Ue=s==null?void 0:s.firstName)==null?void 0:Ue[0],((Re=s==null?void 0:s.lastName)==null?void 0:Re[0])||(s==null?void 0:s.username[0])]})]}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName} ${s.lastName}`:s==null?void 0:s.username}),e.jsx("p",{className:"text-xs text-orange-100",children:"Customer"})]})]}),e.jsxs(N,{variant:"outline",size:"sm",onClick:ks,className:"bg-white/10 border-white/20 text-white hover:bg-white hover:text-orange-600 transition-all duration-200","data-testid":"button-logout",children:[e.jsx(_s,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8",children:e.jsxs(Ks,{value:b,onValueChange:W,className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-gray-700",children:e.jsxs(Os,{className:"grid w-full grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-7 h-auto bg-transparent gap-1 p-1 sm:p-2",children:[e.jsxs(ae,{value:"overview",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem]","data-testid":"tab-overview",children:[e.jsx(ke,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm",children:"Overview"})]}),e.jsxs(ae,{value:"browse",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem]",children:[e.jsx(ue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm",children:"Browse"})]}),e.jsxs(ae,{value:"map",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem] col-span-1 sm:col-span-1",children:[e.jsx(Ae,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm",children:"Map"})]}),e.jsxs(ae,{value:"add-property",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem] col-span-1 sm:col-span-1",children:[e.jsx(Pe,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm",children:"Add"})]}),e.jsxs(ae,{value:"my-properties",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem] col-span-1 sm:col-span-1",children:[e.jsx(Te,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm hidden xs:inline sm:hidden md:inline",children:"My Properties"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm xs:hidden sm:inline md:hidden",children:"Mine"})]}),e.jsxs(ae,{value:"favorites",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem] col-span-1 sm:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[8px] xs:text-[10px] sm:text-xs bg-orange-100 text-orange-700 px-1 rounded-full min-w-[1rem] h-4 flex items-center justify-center",children:oe.length})]}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm hidden xs:inline sm:hidden md:inline",children:"Favorites"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm xs:hidden sm:inline md:hidden",children:"Fav"})]}),e.jsxs(ae,{value:"profile",className:"text-xs sm:text-sm py-1.5 sm:py-2 px-1 sm:px-2 md:px-4 data-[state=active]:bg-orange-100 data-[state=active]:text-orange-700 hover:bg-slate-100 transition-all duration-200 flex flex-col sm:flex-row items-center justify-center gap-0.5 sm:gap-1 min-h-[2.5rem] sm:min-h-[2.75rem] col-span-1 sm:col-span-1",children:[e.jsx(Se,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm",children:"Profile"})]})]})}),e.jsxs(re,{value:"overview",className:"space-y-3 sm:space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 md:gap-6",children:[e.jsxs(V,{className:"md:col-span-1 xl:col-span-1 shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsx(Y,{className:"border-b border-slate-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-white dark:from-gray-800 dark:to-gray-800",children:e.jsxs(z,{className:"text-base sm:text-lg font-bold text-blue-800 dark:text-blue-200 flex items-center",children:[e.jsx(Se,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Account Status"]})}),e.jsx(B,{className:"p-3 sm:p-4 md:p-6",children:(()=>{const t=ts(s==null?void 0:s.expiresAt),r=as(t);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${r.bgColor} border border-opacity-30`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx(G,{variant:"secondary",className:`${r.color} font-medium`,children:r.status})]}),e.jsx("h3",{className:`font-semibold ${r.color} mb-1`,children:r.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description})]}),t!==null&&t>0&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Days Remaining"}),e.jsx("span",{className:"font-medium",children:t})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t<=3?"bg-red-500":t<=7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,t/30*100)}%`}})})]})]})})()})]}),e.jsxs(V,{className:"md:col-span-1 xl:col-span-2 shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-white dark:from-gray-800 dark:to-gray-800",children:[e.jsxs(z,{className:"text-base sm:text-lg font-bold text-orange-800 dark:text-orange-200 flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Property Overview"]}),e.jsx(H,{className:"text-sm sm:text-base text-orange-600 dark:text-orange-300",children:"Your property portfolio statistics"})]}),e.jsxs(B,{className:"p-3 sm:p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3 md:gap-4 mb-3 sm:mb-4 md:mb-6",children:[e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-blue-600 dark:text-blue-300",children:ee.length}),e.jsx("div",{className:"text-xs sm:text-sm text-blue-500 dark:text-blue-400",children:"My Properties"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900 dark:to-pink-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-pink-600 dark:text-pink-300",children:oe.length}),e.jsx("div",{className:"text-xs sm:text-sm text-pink-500 dark:text-pink-400",children:"Favorites"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-green-600 dark:text-green-300",children:ee.filter(t=>t.status==="active").length}),e.jsx("div",{className:"text-xs sm:text-sm text-green-500 dark:text-green-400",children:"Active"})]}),!ye&&d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900 dark:to-indigo-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-indigo-600 dark:text-indigo-300",children:d.hasUnlimited?"∞":d.totalBalance||0}),e.jsx("div",{className:"text-xs sm:text-sm text-indigo-500 dark:text-indigo-400",children:"Total Balance"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900 dark:to-orange-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-orange-600 dark:text-orange-300",children:d.currentUsage||0}),e.jsx("div",{className:"text-xs sm:text-sm text-orange-500 dark:text-orange-400",children:"In Use"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900 dark:to-emerald-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-emerald-600 dark:text-emerald-300",children:d.hasUnlimited?"∞":d.remainingWaves||0}),e.jsx("div",{className:"text-xs sm:text-sm text-emerald-500 dark:text-emerald-400",children:"Remaining"})]})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 md:p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-purple-600 dark:text-purple-300",children:(R==null?void 0:R.total)||0}),e.jsx("div",{className:"text-xs sm:text-sm text-purple-500 dark:text-purple-400",children:"Total Market"})]})]}),!ye&&d&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900 dark:to-indigo-900 p-4 rounded-lg border border-blue-200 dark:border-blue-700 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 flex items-center",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),"Wave Balance"]}),d.hasUnlimited&&e.jsx(G,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200",children:"Unlimited"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-300",children:d.hasUnlimited?"∞":d.totalBalance}),e.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-400",children:"Total Balance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-300",children:d.currentUsage}),e.jsx("div",{className:"text-sm text-orange-500 dark:text-orange-400",children:"In Use"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-300",children:d.hasUnlimited?"∞":d.remainingWaves}),e.jsx("div",{className:"text-sm text-green-500 dark:text-green-400",children:"Remaining"})]})]}),!d.hasUnlimited&&d.totalBalance>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Wave Usage"}),e.jsxs("span",{className:"font-medium",children:[d.currentUsage," / ",d.totalBalance]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d.remainingWaves<=0?"bg-red-500":d.remainingWaves<=2?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,d.currentUsage/d.totalBalance*100)}%`}})}),d.remainingWaves<=0&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:"⚠️ Balance not available. You must buy balance to continue using wave assignments."})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[e.jsxs(V,{className:"shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 p-3 sm:p-4 md:p-6",children:[e.jsxs(z,{className:"text-base sm:text-lg font-bold flex items-center",children:[e.jsx(Ze,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-orange-600"}),"Market by Property Type"]}),e.jsx(H,{className:"text-sm sm:text-base",children:"Distribution of properties in the market"})]}),e.jsx(B,{className:"p-3 sm:p-4 md:p-6",children:R!=null&&R.byType&&R.byType.length>0?e.jsx(Ie,{config:{house:{label:"House",color:"#3b82f6"},apartment:{label:"Apartment",color:"#ef4444"},villa:{label:"Villa",color:"#10b981"},land:{label:"Land",color:"#f59e0b"}},className:"h-[200px] sm:h-[250px] md:h-[300px]",children:e.jsxs(Ys,{children:[e.jsx(es,{content:e.jsx(Me,{})}),e.jsx(ss,{content:e.jsx(Ee,{})}),e.jsx(zs,{dataKey:"value",data:R.byType,cx:"50%",cy:"50%",outerRadius:80,label:({name:t,value:r})=>`${t}: ${r}`,children:R.byType.map((t,r)=>e.jsx(Gs,{fill:t.name==="house"?"#3b82f6":t.name==="apartment"?"#ef4444":t.name==="villa"?"#10b981":"#f59e0b"},`cell-${r}`))})]})}):e.jsx("div",{className:"h-[200px] sm:h-[250px] md:h-[300px] flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base",children:"No property data available"})]})})})]}),e.jsxs(V,{className:"shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 p-3 sm:p-4 md:p-6",children:[e.jsxs(z,{className:"text-base sm:text-lg font-bold flex items-center",children:[e.jsx(Hs,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-green-600"}),"Sale vs Rent Distribution"]}),e.jsx(H,{className:"text-sm sm:text-base",children:"Market distribution by listing type"})]}),e.jsx(B,{className:"p-3 sm:p-4 md:p-6",children:R!=null&&R.byListingType&&R.byListingType.length>0?e.jsx(Ie,{config:{sale:{label:"For Sale",color:"#3b82f6"},rent:{label:"For Rent",color:"#10b981"}},className:"h-[200px] sm:h-[250px] md:h-[300px]",children:e.jsxs(Qs,{data:R.byListingType,children:[e.jsx(Js,{strokeDasharray:"3 3"}),e.jsx(Xs,{dataKey:"name"}),e.jsx(Zs,{}),e.jsx(es,{content:e.jsx(Me,{})}),e.jsx(ss,{content:e.jsx(Ee,{})}),e.jsx(et,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})}):e.jsx("div",{className:"h-[200px] sm:h-[250px] md:h-[300px] flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base",children:"No listing data available"})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[e.jsxs(V,{className:"shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 p-3 sm:p-4 md:p-6",children:[e.jsxs(z,{className:"text-base sm:text-lg font-bold flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-600"}),"Recent Activity"]}),e.jsx(H,{className:"text-sm sm:text-base",children:"Your latest actions and updates"})]}),e.jsx(B,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:[ee.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(le,{className:"h-3 w-3 sm:h-4 sm:w-4 md:h-5 md:w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Listed as ",t.listingType," • ",t.status]})]}),e.jsx(G,{variant:t.status==="active"?"default":"secondary",className:"text-xs flex-shrink-0",children:t.status})]},t.id)),ee.length===0&&e.jsxs("div",{className:"text-center py-4 sm:py-6 md:py-8",children:[e.jsx(le,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 mx-auto mb-2 sm:mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400",children:"No properties listed yet"}),e.jsx(N,{variant:"outline",size:"sm",className:"mt-2 text-xs sm:text-sm",onClick:()=>W("add-property"),children:"Add Your First Property"})]})]})})]}),e.jsxs(V,{className:"shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 p-3 sm:p-4 md:p-6",children:[e.jsxs(z,{className:"text-base sm:text-lg font-bold flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-600"}),"Quick Actions"]}),e.jsx(H,{className:"text-sm sm:text-base",children:"Manage your account and properties"})]}),e.jsx(B,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[e.jsxs(N,{variant:"outline",className:"h-16 sm:h-18 md:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 hover:bg-orange-50 hover:border-orange-200 transition-all duration-200",onClick:()=>W("add-property"),"data-testid":"button-add-property",children:[e.jsx(Pe,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6 text-orange-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-center leading-tight",children:"Add Property"})]}),e.jsxs(N,{variant:"outline",className:"h-16 sm:h-18 md:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>W("browse"),"data-testid":"button-browse-properties",children:[e.jsx(ue,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6 text-blue-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-center leading-tight",children:"Browse Properties"})]}),e.jsxs(N,{variant:"outline",className:"h-16 sm:h-18 md:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 hover:bg-green-50 hover:border-green-200 transition-all duration-200",onClick:()=>W("favorites"),"data-testid":"button-view-favorites",children:[e.jsx(je,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6 text-green-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-center leading-tight",children:"View Favorites"})]}),e.jsxs(N,{variant:"outline",className:"h-16 sm:h-18 md:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 hover:bg-purple-50 hover:border-purple-200 transition-all duration-200",onClick:()=>W("profile"),"data-testid":"button-edit-profile",children:[e.jsx(Se,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6 text-purple-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-center leading-tight",children:"Edit Profile"})]})]})})]})]})]}),e.jsxs(re,{value:"browse",className:"space-y-4 sm:space-y-6",children:[e.jsxs(V,{className:"shadow-lg border-0 bg-white dark:bg-gray-800",children:[e.jsxs(Y,{className:"border-b border-slate-200 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-white dark:from-gray-800 dark:to-gray-800",children:[e.jsx(z,{className:"text-lg sm:text-xl text-orange-800 dark:text-orange-200 font-bold",children:"Find Your Perfect Property"}),e.jsx(H,{className:"text-orange-600 dark:text-orange-300",children:"Search through our extensive property listings"})]}),e.jsx(B,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-400 h-4 w-4"}),e.jsx(T,{placeholder:"Search properties, locations, or keywords...",value:w,onChange:t=>P(t.target.value),className:"pl-10 border-orange-200 focus:border-orange-500 focus:ring-orange-500 h-12 text-base","data-testid":"input-search"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs(de,{value:j.type||"all",onValueChange:t=>E(r=>({...r,type:t==="all"?void 0:t})),children:[e.jsx(ce,{className:"border-orange-200 focus:border-orange-500 focus:ring-orange-500 h-11","data-testid":"select-type-filter",children:e.jsx(me,{placeholder:"Property Type"})}),e.jsxs(xe,{children:[e.jsx(U,{value:"all",children:"All Types"}),e.jsx(U,{value:"house",children:"House"}),e.jsx(U,{value:"apartment",children:"Apartment"}),e.jsx(U,{value:"villa",children:"Villa"}),e.jsx(U,{value:"land",children:"Land"})]})]}),e.jsxs(de,{value:j.listingType||"all",onValueChange:t=>E(r=>({...r,listingType:t==="all"?void 0:t})),children:[e.jsx(ce,{className:"border-orange-200 focus:border-orange-500 focus:ring-orange-500 h-11","data-testid":"select-listing-filter",children:e.jsx(me,{placeholder:"Listing Type"})}),e.jsxs(xe,{children:[e.jsx(U,{value:"all",children:"All Listings"}),e.jsx(U,{value:"sale",children:"For Sale"}),e.jsx(U,{value:"rent",children:"For Rent"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:bs?Array.from({length:8}).map((t,r)=>e.jsxs(V,{className:"animate-pulse shadow-lg",children:[e.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-slate-200 to-slate-300 dark:from-gray-700 dark:to-gray-600 rounded-t-lg"}),e.jsxs(B,{className:"p-3 sm:p-4",children:[e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 dark:bg-gray-700 rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-3 bg-slate-200 dark:bg-gray-700 rounded w-1/2"}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-gray-700 rounded w-20"}),e.jsx("div",{className:"h-6 bg-slate-200 dark:bg-gray-700 rounded w-16"})]})]})]},r)):qe.length===0?e.jsx("div",{className:"col-span-full p-8 sm:p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center",children:e.jsx(le,{className:"h-10 w-10 text-orange-600 dark:text-orange-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:w?"No Properties Found":"No Properties Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:w?`No properties match your search for "${w}". Try adjusting your filters.`:"There are no properties available at the moment. Check back later for new listings."}),w&&e.jsxs(N,{variant:"outline",className:"border-orange-200 text-orange-600 hover:bg-orange-50 transition-all duration-200",onClick:()=>P(""),children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Clear Search"]})]})}):qe.map(t=>e.jsx(rs,{property:t,isFavorite:Cs(t.id),onToggleFavorite:r=>r?Be(t.id):Ps(t.id),onInquiry:we},t.id))})]}),e.jsx(re,{value:"map",className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs(Y,{children:[e.jsx(z,{children:"Property Map"}),e.jsx(H,{children:"Explore properties on the interactive map"})]}),e.jsx(B,{children:e.jsx("div",{className:"h-[600px] w-full",children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-muted rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading map..."})]})}),children:e.jsx(vt,{properties:Ve,filters:j,onFilterChange:Ts,onPropertyClick:we,className:"h-full w-full rounded-lg"})})})})]})}),e.jsx(re,{value:"add-property",className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs(Y,{children:[e.jsx(z,{className:c(a),dir:p(a),children:q?l.updateProperty:l.addNewProperty}),e.jsx(H,{className:c(a),dir:p(a),children:q?l.updatePropertyText:l.sharePropertyText})]}),e.jsx(B,{children:e.jsx(Qe,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(Ss),className:"space-y-6",dir:p(a),children:[S&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Xe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200",children:l.selectPropertyLanguage})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:l.languageDescription}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:fe.map(t=>e.jsx(N,{type:"button",variant:a===t?"default":"outline",className:`p-4 h-auto justify-start ${a===t?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"border-blue-300 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30"} ${p(t)==="rtl"?"text-right":"text-left"}`,onClick:()=>{g(t),_(!1)},"data-testid":`button-language-${t}`,children:e.jsxs("div",{className:"flex flex-col items-start w-full",children:[e.jsx("span",{className:"text-sm font-medium",children:pe[t]}),e.jsx("span",{className:"text-xs opacity-75",children:t.toUpperCase()})]})},t))}),fe.length===1&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Only ",pe[fe[0]]," is available for your account."]})]}),!S&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",dir:p(a),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:p(a)==="rtl"?e.jsxs(e.Fragment,{children:["بلغة: ",pe[a]]}):e.jsxs(e.Fragment,{children:[l.language,": ",pe[a]]})})]}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(!0),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-change-language",children:p(a)==="rtl"?"تغيير":l.change})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",dir:p(a),children:[e.jsx(F,{control:m.control,name:"title",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.propertyTitle," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.titlePlaceholder,...t,className:c(a),dir:p(a),"data-testid":"input-property-title"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"type",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.propertyType," *"]}),e.jsxs(de,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(M,{children:e.jsx(ce,{"data-testid":"select-property-type",className:c(a),dir:p(a),children:e.jsx(me,{placeholder:l.selectPropertyType})})}),e.jsxs(xe,{children:[e.jsx(U,{value:"house",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-orange-600"}),l.house]})}),e.jsx(U,{value:"apartment",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4 text-orange-600"}),l.apartment]})}),e.jsx(U,{value:"villa",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4 text-orange-600"}),l.villa]})}),e.jsx(U,{value:"land",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4 text-orange-600"}),l.land]})})]})]}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"listingType",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.listingType," *"]}),e.jsxs(de,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(M,{children:e.jsx(ce,{"data-testid":"select-listing-type",className:c(a),dir:p(a),children:e.jsx(me,{placeholder:l.selectListingType})})}),e.jsxs(xe,{children:[e.jsx(U,{value:"sale",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-green-600"}),l.sale]})}),e.jsx(U,{value:"rent",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-4 w-4 text-orange-600"}),l.rent]})})]})]}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"price",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.price," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.pricePlaceholder,type:"number",...t,className:c(a),dir:p(a),onChange:r=>t.onChange(r.target.value),"data-testid":"input-price"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"area",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.area," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.areaPlaceholder,type:"number",min:"1",...t,className:c(a),dir:p(a),onChange:r=>t.onChange(parseInt(r.target.value)||1),"data-testid":"input-area"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"bedrooms",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.bedrooms," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.bedroomsPlaceholder,type:"number",min:"1",...t,className:c(a),dir:p(a),onChange:r=>t.onChange(parseInt(r.target.value)||1),"data-testid":"input-bedrooms"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"bathrooms",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.bathrooms," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.bathroomsPlaceholder,type:"number",min:"1",...t,className:c(a),dir:p(a),onChange:r=>t.onChange(parseInt(r.target.value)||1),"data-testid":"input-bathrooms"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"address",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.address," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.addressPlaceholder,...t,className:c(a),dir:p(a),"data-testid":"input-address"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"city",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.city," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.cityPlaceholder,...t,className:c(a),dir:p(a),"data-testid":"input-city"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"country",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.country," *"]}),e.jsx(M,{children:e.jsx(T,{placeholder:l.countryPlaceholder,...t,className:c(a),dir:p(a),"data-testid":"input-country"})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"contactPhone",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{className:c(a),children:l.contactPhone}),e.jsx(M,{children:e.jsxs("div",{className:"relative",children:[e.jsx(xt,{className:`absolute ${p(a)==="rtl"?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),e.jsx(T,{placeholder:l.contactPhonePlaceholder,...t,className:`${p(a)==="rtl"?"pr-10":"pl-10"} ${c(a)}`,dir:p(a),"data-testid":"input-contact-phone"})]})}),e.jsx($,{}),e.jsx("p",{className:`text-xs text-muted-foreground ${c(a)}`,children:l.contactPhoneNote})]})}),e.jsx(F,{control:m.control,name:"waveId",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:`flex items-center gap-2 ${c(a)}`,children:[e.jsx(Ce,{className:"h-4 w-4 text-blue-500"}),l.waveBalance,d&&!d.hasUnlimited&&e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${d.remainingWaves<=0?"bg-red-100 text-red-700":d.remainingWaves<=2?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[d.remainingWaves," ",l.remaining]}),(d==null?void 0:d.hasUnlimited)&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:l.unlimited})]}),d&&!d.hasUnlimited&&d.remainingWaves<=0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg mb-3",dir:p(a),children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{className:`font-medium ${c(a)}`,children:l.noWavesRemaining})]}),e.jsx("p",{className:`text-sm text-red-600 ${c(a)}`,children:l.waveBalanceWarning.replace("{total}",d.totalBalance)})]}),e.jsxs(de,{onValueChange:r=>{if(r!=="no-wave"&&d&&!d.hasUnlimited&&d.remainingWaves<=0){h(!0);return}t.onChange(r)},defaultValue:t.value,disabled:d&&!d.hasUnlimited&&d.remainingWaves<=0,children:[e.jsx(M,{children:e.jsx(ce,{"data-testid":"select-wave",className:d&&!d.hasUnlimited&&d.remainingWaves<=0?"opacity-50 cursor-not-allowed":"",children:e.jsx(me,{placeholder:d&&!d.hasUnlimited&&d.remainingWaves<=0?l.noWavesAvailable:l.selectWavePlaceholder})})}),e.jsxs(xe,{children:[e.jsx(U,{value:"no-wave",children:e.jsx("span",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-muted-foreground",children:l.noWave})})}),e.jsx(U,{value:"premium-wave",children:e.jsx("span",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-muted-foreground",children:l.premiumWave})})})]})]}),e.jsx($,{}),e.jsx("p",{className:`text-xs text-muted-foreground ${c(a)}`,children:l.waveDescription})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{dir:p(a),children:[e.jsx("h3",{className:`text-lg font-medium mb-2 ${c(a)}`,children:l.selectLocationTitle}),e.jsx("p",{className:`text-sm text-muted-foreground mb-4 ${c(a)}`,children:l.selectLocationDesc}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg border border-orange-200 dark:border-orange-800 mb-4",children:[e.jsxs("div",{className:`flex items-center ${p(a)==="rtl"?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsx("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-pulse"}),e.jsx("span",{className:`text-sm font-medium text-orange-700 dark:text-orange-300 ${c(a)}`,children:l.smartAutoFill})]}),e.jsx("p",{className:`text-xs text-orange-600 dark:text-orange-400 mt-1 ${c(a)}`,children:l.autoFillDesc})]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx(ft,{onLocationSelect:Ms,selectedLocation:Q,className:"h-[400px] w-full"})}),Q&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:`flex items-center ${p(a)==="rtl"?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:`text-sm font-medium text-green-700 dark:text-green-300 ${c(a)}`,children:l.locationSelected})]}),e.jsxs("p",{className:`text-xs text-green-600 dark:text-green-400 mt-1 ${c(a)}`,children:[l.coordinates,": ",Q.lat.toFixed(6),", ",Q.lng.toFixed(6)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{dir:p(a),children:[e.jsx("h3",{className:`text-lg font-medium mb-2 ${c(a)}`,children:l.propertyImagesTitle}),e.jsx("p",{className:`text-sm text-muted-foreground mb-4 ${c(a)}`,children:l.propertyImagesDesc})]}),e.jsx(F,{control:m.control,name:"images",render:({field:t})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(pt,{value:t.value||[],onChange:t.onChange,maxFiles:10,maxSize:5})}),e.jsx($,{})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx(F,{control:m.control,name:"amenities",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{className:c(a),children:l.amenities}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",dir:p(a),children:[{key:"swimmingPool",label:l.swimmingPool},{key:"garden",label:l.garden},{key:"parking",label:l.parking},{key:"securitySystem",label:l.securitySystem},{key:"elevator",label:l.elevator},{key:"gym",label:l.gym},{key:"balcony",label:l.balcony},{key:"terrace",label:l.terrace}].map(r=>{var C;return e.jsxs("label",{className:`flex items-center cursor-pointer ${p(a)==="rtl"?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsx("input",{type:"checkbox",checked:((C=t.value)==null?void 0:C.includes(r.key))||!1,onChange:A=>{const f=t.value||[];A.target.checked?t.onChange([...f,r.key]):t.onChange(f.filter(k=>k!==r.key))},className:"rounded border-gray-300"}),e.jsx("span",{className:`text-sm ${c(a)}`,children:r.label})]},r.key)})}),e.jsx($,{})]})}),e.jsx(F,{control:m.control,name:"features",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{className:c(a),children:l.features}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",dir:p(a),children:[{key:"airConditioning",label:l.airConditioning},{key:"heating",label:l.heating},{key:"furnished",label:l.furnished},{key:"petFriendly",label:l.petFriendly},{key:"fireplace",label:l.fireplace},{key:"highCeilings",label:l.highCeilings},{key:"modernKitchen",label:l.modernKitchen},{key:"storageRoom",label:l.storageRoom}].map(r=>{var C;return e.jsxs("label",{className:`flex items-center cursor-pointer ${p(a)==="rtl"?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsx("input",{type:"checkbox",checked:((C=t.value)==null?void 0:C.includes(r.key))||!1,onChange:A=>{const f=t.value||[];A.target.checked?t.onChange([...f,r.key]):t.onChange(f.filter(k=>k!==r.key))},className:"rounded border-gray-300"}),e.jsx("span",{className:`text-sm ${c(a)}`,children:r.label})]},r.key)})}),e.jsx($,{})]})})]}),e.jsx(F,{control:m.control,name:"description",render:({field:t})=>e.jsxs(L,{children:[e.jsxs(I,{className:c(a),children:[l.description," *"]}),e.jsx(M,{children:e.jsx(gs,{placeholder:l.descriptionPlaceholder,className:`min-h-[100px] ${c(a)}`,dir:p(a),...t,"data-testid":"textarea-description"})}),e.jsx($,{})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{dir:p(a),children:[e.jsx("h3",{className:`text-lg font-medium mb-2 ${c(a)}`,children:l.propertyVisibilityTitle}),e.jsx("p",{className:`text-sm text-muted-foreground mb-4 ${c(a)}`,children:l.propertyVisibilityDesc})]}),e.jsx(F,{control:m.control,name:"status",render:({field:t})=>e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-slate-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(I,{className:`text-base font-medium ${c(a)}`,children:t.value==="active"?l.visibleOnMap:l.hiddenFromMap}),e.jsx("p",{className:`text-sm text-muted-foreground mt-1 ${c(a)}`,children:t.value==="active"?l.visibleDesc:l.hiddenDesc})]}),e.jsx("div",{className:"flex items-center space-x-3 ml-4",children:e.jsx(M,{children:e.jsx(N,{type:"button",variant:"outline",size:"sm",onClick:()=>t.onChange(t.value==="active"?"inactive":"active"),className:`transition-all ${t.value==="active"?"bg-green-100 text-green-700 border-green-300":"bg-gray-100 text-gray-700 border-gray-300"}`,"data-testid":"button-toggle-property-visibility",children:t.value==="active"?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:`h-4 w-4 ${p(a)==="rtl"?"ml-2":"mr-2"}`}),l.visible]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:`h-4 w-4 ${p(a)==="rtl"?"ml-2":"mr-2"}`}),l.hidden]})})})})]}),e.jsx($,{})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[q&&e.jsx(N,{type:"button",variant:"outline",onClick:As,"data-testid":"button-cancel-edit",children:"Cancel"}),e.jsx(N,{type:"button",variant:"outline",onClick:()=>m.reset(),"data-testid":"button-reset",children:"Reset Form"}),e.jsx(N,{type:"submit",disabled:he.isPending||ge.isPending,"data-testid":"button-submit-property",children:q?ge.isPending?"Updating Property...":"Update Property":he.isPending?"Adding Property...":"Add Property"})]})]})]})})})]})}),e.jsx(re,{value:"my-properties",className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs(Y,{children:[e.jsx(z,{children:"My Properties"}),e.jsxs(H,{children:["Manage the properties you've posted (",ee.length," total)"]})]}),e.jsx(B,{children:vs?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((t,r)=>e.jsxs(V,{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 rounded-t-lg"}),e.jsxs(B,{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"})]})]},r))}):ee.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"You haven't posted any properties yet."}),e.jsxs(N,{variant:"outline",className:"mt-4",onClick:()=>W("add-property"),children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Add Your First Property"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(t=>e.jsx(V,{className:"group relative",children:e.jsxs(B,{className:"p-0",children:[e.jsxs("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 rounded-t-lg relative overflow-hidden",children:[t.images&&t.images.length>0?e.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(le,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(N,{size:"sm",variant:t.status==="active"?"default":"secondary",onClick:()=>Ds(t.id,t.status||"inactive"),className:t.status==="active"?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white","data-testid":`button-toggle-visibility-${t.id}`,title:t.status==="active"?"Hide from map":"Show on map",children:t.status==="active"?e.jsx(ne,{className:"h-3 w-3"}):e.jsx(Fe,{className:"h-3 w-3"})}),e.jsx(N,{size:"sm",variant:"secondary",onClick:()=>Ls(t),className:"bg-orange-600 hover:bg-orange-700 text-white","data-testid":`button-edit-${t.id}`,children:e.jsx(st,{className:"h-3 w-3"})}),e.jsx(N,{size:"sm",variant:"destructive",onClick:()=>$s(t.id,t.title),"data-testid":`button-delete-${t.id}`,children:e.jsx(tt,{className:"h-3 w-3"})})]}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(G,{variant:t.listingType==="sale"?"default":"secondary",children:t.listingType==="sale"?"For Sale":"For Rent"})}),e.jsx("div",{className:"absolute bottom-2 left-2 flex space-x-1",children:e.jsx(G,{variant:t.status==="active"?"default":"secondary",className:`text-xs ${t.status==="active"?"bg-green-100 text-green-700 border-green-300":"bg-gray-100 text-gray-700 border-gray-300"}`,children:t.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"Visible"]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),"Hidden"]})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:t.title}),e.jsx(G,{variant:"outline",className:"text-xs",children:t.type})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),t.city,", ",t.country]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),t.views||0," views"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[t.bedrooms&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(cs,{className:"h-3 w-3 mr-1"}),t.bedrooms]}),t.bathrooms&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(ms,{className:"h-3 w-3 mr-1"}),t.bathrooms]}),t.area&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(xs,{className:"h-3 w-3 mr-1"}),t.area," ft²"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",parseFloat(t.price).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Posted ",new Date(t.createdAt||"").toLocaleDateString()]})]}),e.jsxs(N,{size:"sm",variant:"outline",onClick:()=>o(`/property/${t.id}`),"data-testid":`button-view-${t.id}`,children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"View"]})]})]})]})},t.id))})})]})}),e.jsx(re,{value:"favorites",className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs(Y,{children:[e.jsx(z,{children:"Your Favorite Properties"}),e.jsx(H,{children:"Properties you've saved for later"})]}),e.jsx(B,{children:oe.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"You haven't saved any properties yet."}),e.jsx(N,{variant:"outline",className:"mt-4",onClick:()=>W("browse"),children:"Browse Properties"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:oe.map(t=>e.jsx(rs,{property:t,isFavorite:!0,onToggleFavorite:()=>Be(t.id),onInquiry:we},t.id))})})]})}),e.jsx(re,{value:"profile",className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs(Y,{children:[e.jsx(z,{children:"Profile Settings"}),e.jsx(H,{children:"Manage your account information"})]}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Le,{className:"h-20 w-20",children:[e.jsx($e,{src:(s==null?void 0:s.avatar)||"",alt:"Profile photo"}),e.jsxs(De,{className:"text-lg",children:[(_e=s==null?void 0:s.firstName)==null?void 0:_e[0],((Ke=s==null?void 0:s.lastName)==null?void 0:Ke[0])||(s==null?void 0:s.username[0])]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName} ${s.lastName}`:s==null?void 0:s.username}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s==null?void 0:s.email}),e.jsx(G,{variant:"secondary",className:"mt-1",children:"Customer"})]}),e.jsx("div",{className:"flex space-x-2",children:Z?e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"outline",onClick:Is,"data-testid":"button-cancel-edit",children:"Cancel"}),e.jsx(N,{form:"profile-form",type:"submit",disabled:Ne.isPending,"data-testid":"button-save-profile",children:Ne.isPending?"Saving...":"Save Changes"})]}):e.jsxs(N,{variant:"outline",onClick:()=>K(!0),"data-testid":"button-edit-profile",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]}),(()=>{const t=ts(s==null?void 0:s.expiresAt),{status:r,color:C,bgColor:A,icon:f,title:k,description:Es}=as(t);return e.jsx("div",{className:`rounded-lg border p-4 ${A} border-opacity-50`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:f}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${C}`,children:k}),e.jsx("p",{className:"text-sm text-gray-600",children:Es})]})]}),e.jsx(G,{className:`${C} ${A} border-0 font-medium`,"data-testid":"badge-user-expiration",children:r})]})})})(),Z?e.jsx(Qe,{...X,children:e.jsxs("form",{id:"profile-form",onSubmit:X.handleSubmit(Fs),className:"space-y-6",children:[e.jsx(F,{control:X.control,name:"avatar",render:({field:t})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(ut,{value:t.value||"",onChange:t.onChange,currentUser:s||void 0,maxSize:2})}),e.jsx($,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(F,{control:X.control,name:"firstName",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{children:"First Name *"}),e.jsx(M,{children:e.jsx(T,{placeholder:"Enter your first name",...t,"data-testid":"input-first-name"})}),e.jsx($,{})]})}),e.jsx(F,{control:X.control,name:"lastName",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{children:"Last Name *"}),e.jsx(M,{children:e.jsx(T,{placeholder:"Enter your last name",...t,"data-testid":"input-last-name"})}),e.jsx($,{})]})}),e.jsx(F,{control:X.control,name:"phone",render:({field:t})=>e.jsxs(L,{children:[e.jsx(I,{children:"Phone Number"}),e.jsx(M,{children:e.jsx(T,{placeholder:"Enter your phone number",...t,"data-testid":"input-phone"})}),e.jsx($,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Username"}),e.jsx(T,{value:(s==null?void 0:s.username)||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(T,{value:(s==null?void 0:s.email)||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Member Since"}),e.jsx(T,{value:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString():"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Account Type"}),e.jsx(T,{value:"Customer",disabled:!0})]})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"First Name"}),e.jsx(T,{value:(s==null?void 0:s.firstName)||"Not provided",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),e.jsx(T,{value:(s==null?void 0:s.lastName)||"Not provided",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone"}),e.jsx(T,{value:(s==null?void 0:s.phone)||"Not provided",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Username"}),e.jsx(T,{value:(s==null?void 0:s.username)||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(T,{value:(s==null?void 0:s.email)||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Member Since"}),e.jsx(T,{value:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString():"",disabled:!0})]})]})]})})]})})]})})]}),e.jsx(Ye,{open:he.isPending||ge.isPending,onOpenChange:()=>{},children:e.jsx(ze,{className:"sm:max-w-md",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"animate-spin h-12 w-12 border-4 border-orange-600 border-t-transparent rounded-full mx-auto"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:q?"Updating Property...":"Adding Property..."}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:q?"Please wait while we update your property details.":"Please wait while we add your property to our platform."}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{children:"Processing your request"})]})]})})}),e.jsx(Ye,{open:v,onOpenChange:h,children:e.jsxs(ze,{className:"sm:max-w-md",children:[e.jsxs(at,{children:[e.jsxs(rt,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Oe,{className:"h-5 w-5"}),"Balance Not Available"]}),e.jsx(lt,{children:"You don't have balance for this premium wave!"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"You have used all your wave assignments. To assign properties to premium waves, you must buy balance."})}),!ye&&d&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:d.totalBalance||0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Balance"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:d.currentUsage||0}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:"In Use"})]}),e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:d.remainingWaves||0}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Remaining"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(N,{variant:"outline",onClick:()=>h(!1),children:"Close"}),e.jsx(N,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{h(!1),i({title:"Contact Support",description:"Please contact support to purchase additional balance.",variant:"default"})},children:"Buy Balance"})]})]})]})})]})}function rs({property:s,isFavorite:n,onToggleFavorite:o,onInquiry:i}){return e.jsx(V,{className:"group hover:shadow-lg transition-shadow",children:e.jsxs(B,{className:"p-0",children:[e.jsxs("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 rounded-t-lg relative overflow-hidden",children:[s.images&&s.images.length>0?e.jsx("img",{src:s.images[0],alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(le,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-2 right-2 flex space-x-1",children:e.jsx(N,{size:"sm",variant:n?"default":"secondary",onClick:()=>o(n),className:`transition-all ${n?"text-white":""}`,"data-testid":`button-favorite-${s.id}`,children:e.jsx(je,{className:`h-3 w-3 ${n?"fill-current":""}`})})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(G,{variant:s.listingType==="sale"?"default":"secondary",children:s.listingType==="sale"?"For Sale":"For Rent"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:s.title}),e.jsx(G,{variant:"outline",className:"text-xs",children:s.type})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),s.city,", ",s.country]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),s.views||0," views"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[s.bedrooms&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(cs,{className:"h-3 w-3 mr-1"}),s.bedrooms]}),s.bathrooms&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(ms,{className:"h-3 w-3 mr-1"}),s.bathrooms]}),s.area&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(xs,{className:"h-3 w-3 mr-1"}),s.area," ft²"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",parseFloat(s.price).toLocaleString()]}),s.agent&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Agent: ",s.agent.firstName," ",s.agent.lastName]})]}),e.jsxs(N,{size:"sm",onClick:()=>i(s),"data-testid":`button-inquire-${s.id}`,children:[e.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Inquire"]})]})]})]})})}export{Yt as default};
