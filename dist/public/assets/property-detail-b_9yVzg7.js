import{c as L,u as oe,n as le,r as m,j as e,B as h,R as f,o as Ce,b as $e,p as Pe,L as ee,q as _,s as Se}from"./index-gVtgMtKL.js";import{C as N,b as Ie,c as Oe,a as $}from"./card-C2dwsEa1.js";import{A as Fe,a as Te,b as Ae,M as Le}from"./avatar-DFQf8oBQ.js";import{B as F}from"./badge-BqUsHcl3.js";import{d as Ee,e as De,f as Me,g as ze,h as Re}from"./use-properties-BAMJa5MG.js";import{P as te}from"./phone-esQA2H2M.js";import{D as Be,a as He,b as Ue,c as C}from"./dropdown-menu-CdO897iz.js";import{S as _e}from"./SEOHead-CiHAdMXs.js";import{A as re}from"./arrow-left-B4ufAB3l.js";import{C as se,a as ae,S as qe}from"./square-CK4v9LDE.js";import{H as Ve,M as We}from"./map-pin-BZWIKE3O.js";import{B as Ze,a as Ke}from"./bed-Bvsx4--5.js";import{C as p}from"./Combination-CC3rbWt6.js";import{C as Ge}from"./calendar-BGpyh3-B.js";import"./index-CnQ9kVxl.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=L("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=L("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=L("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),et=s=>{if(!s)return"";const t=s.replace(/[^\d+]/g,"");if(t.startsWith("+")){const i=t.substring(1,4),n=t.substring(4);if(n.length>=9)return`+${i} ${n.substring(0,3)} ${n.substring(3,6)} ${n.substring(6)}`}if(t.startsWith("964")&&t.length>=12){const i=t.substring(0,3),n=t.substring(3);return`+${i} ${n.substring(0,3)} ${n.substring(3,6)} ${n.substring(6)}`}return s};function tt({property:s,agent:t,className:i}){var u,x;const{t:n}=oe();le(),Ee(),m.useState({name:"",email:"",phone:"",message:`I'm interested in ${s.title}. Could you please provide more information?`});const o=t?`${((u=t.firstName)==null?void 0:u[0])||""}${((x=t.lastName)==null?void 0:x[0])||""}`.toUpperCase():"A",l=t?`${t.firstName||""} ${t.lastName||""}`.trim()||t.username:"Real Estate Agent";return e.jsxs(N,{className:`sticky top-6 border-0 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 ${i}`,"data-testid":"contact-form",children:[e.jsxs(Ie,{className:"text-center pb-6 bg-gradient-to-r from-orange-50 to-orange-100 dark:from-gray-800 dark:to-gray-700 rounded-t-lg",children:[e.jsxs(Fe,{className:"w-24 h-24 mx-auto mb-6 ring-4 ring-orange-200 ring-offset-2 shadow-lg",children:[e.jsx(Te,{src:t==null?void 0:t.avatar,alt:l}),e.jsx(Ae,{className:"text-xl font-semibold bg-gradient-to-br from-orange-400 to-orange-600 text-white",children:o})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Oe,{className:"text-xl font-bold text-gray-900 dark:text-gray-100","data-testid":"agent-name",children:l}),(t==null?void 0:t.isVerified)&&e.jsx(F,{className:"bg-orange-500 text-white hover:bg-orange-600 border-0 p-1.5 shadow-md","data-testid":"verified-badge",children:e.jsx(Xe,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm font-medium text-orange-700 dark:text-orange-300 bg-white/50 dark:bg-gray-800/50 px-3 py-1 rounded-full mx-auto text-center w-fit",children:n("contact.agentTitle")})]}),e.jsxs($,{className:"p-6 space-y-5",children:[(s.contactPhone||(t==null?void 0:t.phone))&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700 p-4 rounded-lg border border-blue-100 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(te,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:n("contact.contactNumber")})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("p",{className:"font-mono font-bold text-lg text-center text-gray-900 dark:text-gray-100 tracking-wider bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg border",dir:"ltr",style:{direction:"ltr",unicodeBidi:"embed"},children:et(s.contactPhone||(t==null?void 0:t.phone))})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{className:"w-full h-14 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:from-blue-600 hover:via-blue-700 hover:to-blue-800 text-white font-bold shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 transform hover:scale-[1.03] hover:-translate-y-1 rounded-xl border border-blue-400/20 backdrop-blur-sm",onClick:()=>{const d=s.contactPhone||(t==null?void 0:t.phone);d&&window.open(`tel:${d}`,"_self")},disabled:!(s.contactPhone||t!=null&&t.phone),"data-testid":"call-button",children:[e.jsx(te,{className:"mr-3 h-5 w-5 drop-shadow-lg"}),e.jsx("span",{className:"text-lg tracking-wide",children:n("contact.callNow")})]}),e.jsxs(h,{className:"w-full h-14 bg-gradient-to-r from-green-500 via-green-600 to-green-700 hover:from-green-600 hover:via-green-700 hover:to-green-800 text-white font-bold shadow-2xl hover:shadow-green-500/25 transition-all duration-300 transform hover:scale-[1.03] hover:-translate-y-1 rounded-xl border border-green-400/20 backdrop-blur-sm",onClick:()=>{const d=s.contactPhone||(t==null?void 0:t.phone);if(d){const P=d.replace(/[^\d+]/g,""),D=encodeURIComponent(`Hi! I'm interested in the property: ${s.title}. Could you please provide more information?`);window.open(`https://wa.me/${P}?text=${D}`,"_blank")}},disabled:!(s.contactPhone||t!=null&&t.phone),"data-testid":"whatsapp-button",children:[e.jsx(Le,{className:"mr-3 h-5 w-5 drop-shadow-lg"}),e.jsx("span",{className:"text-lg tracking-wide",children:n("contact.whatsapp")})]})]})]})]})}var ce={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ie=f.createContext&&f.createContext(ce),rt=["attr","size","title"];function st(s,t){if(s==null)return{};var i=at(s,t),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(i[n]=s[n])}return i}function at(s,t){if(s==null)return{};var i={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(t.indexOf(n)>=0)continue;i[n]=s[n]}return i}function T(){return T=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s[n]=i[n])}return s},T.apply(this,arguments)}function ne(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,n)}return i}function A(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ne(Object(i),!0).forEach(function(n){it(s,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(i,n))})}return s}function it(s,t,i){return t=nt(t),t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function nt(s){var t=ot(s,"string");return typeof t=="symbol"?t:t+""}function ot(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var n=i.call(s,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function de(s){return s&&s.map((t,i)=>f.createElement(t.tag,A({key:i},t.attr),de(t.child)))}function E(s){return t=>f.createElement(lt,T({attr:A({},s.attr)},t),de(s.child))}function lt(s){var t=i=>{var{attr:n,size:o,title:l}=s,u=st(s,rt),x=o||i.size||"1em",d;return i.className&&(d=i.className),s.className&&(d=(d?d+" ":"")+s.className),f.createElement("svg",T({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,n,u,{className:d,style:A(A({color:s.color||i.color},i.style),s.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),l&&f.createElement("title",null,l),s.children)};return ie!==void 0?f.createElement(ie.Consumer,null,i=>t(i)):t(ce)}function ct(s){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(s)}function dt(s){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(s)}function mt(s){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(s)}function ht(s){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(s)}function It(){var K,G,Q,X,J,Y;const{id:s}=Ce(),{t,changeLanguage:i,language:n}=oe(),{toast:o}=le(),[l,u]=m.useState(0),[x,d]=m.useState(!1),[P,D]=m.useState(!0),[M]=m.useState("demo-user-id"),[y,me]=m.useState(null),[xt,he]=m.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light"),{preferredCurrency:z}=$e(),{data:r,isLoading:xe,error:ue}=De(s),q=Pe((r==null?void 0:r.currency)||"USD",z),V=r?parseFloat(r.price):0,S=r&&((K=q.data)!=null&&K.convertedAmount)?q.data.convertedAmount*V:V,I=r&&r.currency===z?r.currency:z,ge=Me(),pe=ze(),{data:R}=Re(M,(r==null?void 0:r.id)||""),B=(R==null?void 0:R.isFavorite)||!1,W=(r==null?void 0:r.language)||"en",v=W==="ku"?"kur":W,k=v==="ar"||v==="kur",be=()=>{const a="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8";return k?`${a} text-right`:`${a} text-left`};m.useEffect(()=>{y===null&&me(n)},[n,y]),m.useEffect(()=>{if(r&&r.language){const a=v;["en","ar","kur"].includes(a)&&i(a,!1)}},[r,v,i]),m.useEffect(()=>()=>{y&&y!==v&&i(y,!1)},[y,v,i]);const fe=a=>{const c=a.images&&a.images.length>0?a.images:[];return{"@context":"https://schema.org","@type":"RealEstateListing",name:a.title,description:a.description||`${a.title} in ${a.city}, ${a.country}`,url:`${window.location.origin}/property/${a.slug||a.id}`,image:c,price:{"@type":"MonetaryAmount",currency:a.currency||"USD",value:a.price},address:{"@type":"PostalAddress",streetAddress:a.address,addressLocality:a.city,addressCountry:a.country},geo:{"@type":"GeoCoordinates",latitude:a.latitude,longitude:a.longitude},numberOfRooms:a.bedrooms,numberOfBathroomsTotal:a.bathrooms,floorSize:{"@type":"QuantitativeValue",value:a.area,unitText:"square meters"},availableFrom:a.createdAt,listingType:a.listingType==="rent"?"ForRent":"ForSale"}};m.useEffect(()=>{const a=localStorage.getItem("theme");a&&(he(a),a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[]);const ye=async()=>{if(r)try{B?(await pe.mutateAsync({userId:M,propertyId:r.id}),o({title:t("property.removedFromFavorites"),description:t("property.removedFromFavoritesDescription")})):(await ge.mutateAsync({userId:M,propertyId:r.id}),o({title:t("property.addedToFavorites"),description:t("property.addedToFavoritesDescription")}))}catch{o({title:t("property.favoriteError"),description:t("property.favoriteErrorDescription"),variant:"destructive"})}},j=async a=>{if(!r)return;const w=window.location.pathname.match(/^\/(en|ar|kur)\//),we=w?`/${w[1]}`:"/en",b=`${window.location.origin}${we}/property/${r.slug||r.id}`,Ne=`${r.title} - MapEstate`,U=`Check out this amazing ${r.type} in ${r.city}! ${_(r.price,r.currency||"USD",r.listingType,I,S,t)}`;if(navigator.share&&!a)try{await navigator.share({title:Ne,text:U,url:b});return}catch{}switch(a){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(b)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(U)}&url=${encodeURIComponent(b)}`,"_blank");break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(`${U} ${b}`)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(b)}`,"_blank");break;case"copy":try{await navigator.clipboard.writeText(b),o({title:t("property.linkCopied"),description:t("property.linkCopiedDescription")})}catch{const O=document.createElement("textarea");O.value=b,document.body.appendChild(O),O.select(),document.execCommand("copy"),document.body.removeChild(O),o({title:t("property.linkCopied"),description:t("property.linkCopiedDescription")})}break;default:j("copy")}},H=()=>{r!=null&&r.images&&r.images.length>0&&u(a=>(a+1)%r.images.length)},Z=()=>{r!=null&&r.images&&r.images.length>0&&u(a=>a===0?r.images.length-1:a-1)};m.useEffect(()=>{if(!P||!(r!=null&&r.images)||r.images.length<=1||x)return;const a=setInterval(()=>{H()},4e3);return()=>clearInterval(a)},[P,r==null?void 0:r.images,x]);const ve=()=>{d(!1),D(!0)};if(xe)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-32 mb-6"}),e.jsx("div",{className:"h-96 bg-muted rounded mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((a,c)=>e.jsx("div",{className:"h-20 bg-muted rounded"},c))}),e.jsx("div",{className:"h-32 bg-muted rounded"})]}),e.jsx("div",{className:"h-96 bg-muted rounded"})]})]})})});if(ue||!r)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:t("property.notFound")}),e.jsx("p",{className:"text-muted-foreground mb-8",children:t("property.notFoundDescription")}),e.jsx(ee,{href:"/",children:e.jsx(h,{children:t("property.backToHome")})})]})});const je=((G=r.images)==null?void 0:G[0])||"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=600",g=(Q=r.images)!=null&&Q.length?r.images:[je];return e.jsxs("div",{className:"min-h-screen bg-background",children:[r&&e.jsx(_e,{title:`${r.title} - ${_(r.price,r.currency||"USD",r.listingType,I,S,t)} | MapEstate`,description:`${r.description||`${r.bedrooms} bedroom ${r.type} for ${r.listingType} in ${r.city}, ${r.country}.`} View details, photos, and contact information on MapEstate - AI-powered real estate platform.`,keywords:`${r.type}, ${r.city}, ${r.country}, ${r.listingType}, real estate, property, ${r.bedrooms} bedroom, ${r.bathrooms} bathroom, MapEstate, Kurdistan Iraq properties`,ogImage:r.images&&r.images.length>0?r.images[0]:`${window.location.origin}/mapestate-og-image.jpg`,canonicalUrl:void 0,structuredData:fe(r),propertyData:{address:r.address,city:r.city,country:r.country,price:(X=r.price)==null?void 0:X.toString(),currency:r.currency||"USD",propertyType:r.type,bedrooms:r.bedrooms,bathrooms:r.bathrooms,area:r.area},breadcrumbs:[{name:"Home",url:"/"},{name:"Properties",url:"/properties"},{name:r.title,url:`/property/${r.slug||r.id}`}]}),e.jsxs("div",{className:be(),dir:k?"rtl":"ltr",children:[e.jsx("div",{className:`flex items-center mb-6 ${k?"justify-end":"justify-start"}`,children:e.jsx(ee,{href:"/",children:e.jsxs(h,{variant:"ghost","data-testid":"back-button",className:`flex items-center gap-2 ${k?"flex-row-reverse":""}`,children:[k?e.jsx(re,{className:"h-4 w-4"}):e.jsx(re,{className:"h-4 w-4"}),t("property.backToHome")]})})}),e.jsxs(N,{className:"bg-white/20 dark:bg-black/20 backdrop-blur-xl border-white/30 dark:border-white/10 overflow-hidden mb-8",children:[e.jsxs("div",{className:"relative h-64 md:h-96",children:[e.jsx("img",{src:g[l],alt:`${r.title} - Image ${l+1}`,className:"w-full h-full object-cover","data-testid":"property-main-image",loading:"eager",decoding:"async"}),g.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white dark:bg-black/80 dark:hover:bg-black dark:text-white",onClick:Z,"data-testid":"prev-image-button",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(h,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white dark:bg-black/80 dark:hover:bg-black dark:text-white",onClick:H,"data-testid":"next-image-button",children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute top-4 left-4 bg-orange-500/70 text-white px-3 py-1 rounded-full text-sm",children:[l+1," / ",g.length]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[e.jsx(h,{variant:"secondary",size:"icon",onClick:ye,className:`transition-all duration-200 ${B?"bg-red-50 hover:bg-red-100 text-red-500 border-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 dark:border-red-800":"bg-white/80 hover:bg-white text-gray-600 hover:text-gray-700 dark:bg-black/80 dark:hover:bg-black dark:text-gray-300 dark:hover:text-white"}`,"data-testid":"favorite-button",children:e.jsx(Ve,{className:`h-4 w-4 transition-all duration-200 ${B?"fill-current scale-110":"hover:scale-105"}`})}),e.jsxs(Be,{children:[e.jsx(He,{asChild:!0,children:e.jsx(h,{variant:"secondary",size:"icon",className:"bg-white/80 hover:bg-white text-gray-600 hover:text-gray-700 dark:bg-black/80 dark:hover:bg-black dark:text-gray-300 dark:hover:text-white transition-all duration-200","data-testid":"share-button",children:e.jsx(Ye,{className:"h-4 w-4 hover:scale-105 transition-all duration-200"})})}),e.jsxs(Ue,{align:"end",className:"w-48",children:[e.jsxs(C,{onClick:()=>j("facebook"),"data-testid":"share-facebook",children:[e.jsx(ct,{className:"h-4 w-4 mr-2 text-blue-600"}),t("property.shareOnFacebook")]}),e.jsxs(C,{onClick:()=>j("twitter"),"data-testid":"share-twitter",children:[e.jsx(ht,{className:"h-4 w-4 mr-2 text-gray-800 dark:text-white"}),t("property.shareOnTwitter")]}),e.jsxs(C,{onClick:()=>j("whatsapp"),"data-testid":"share-whatsapp",children:[e.jsx(mt,{className:"h-4 w-4 mr-2 text-green-600"}),t("property.shareOnWhatsApp")]}),e.jsxs(C,{onClick:()=>j("linkedin"),"data-testid":"share-linkedin",children:[e.jsx(dt,{className:"h-4 w-4 mr-2 text-blue-700"}),t("property.shareOnLinkedIn")]}),e.jsxs(C,{onClick:()=>j("copy"),"data-testid":"share-copy",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),t("property.copyLink")]})]})]})]})]}),g.length>1&&e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:g.map((a,c)=>e.jsx("div",{className:`flex-shrink-0 cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${c===l?"border-primary shadow-md":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>u(c),"data-testid":`thumbnail-${c}`,children:e.jsx("img",{src:a,alt:`${r.title} thumbnail ${c+1}`,className:"w-16 h-16 md:w-20 md:h-20 object-cover",loading:"lazy"})},c))})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("img",{src:g[l],alt:`${r.title} - Full Screen ${l+1}`,className:"max-w-full max-h-full object-contain","data-testid":"fullscreen-image"}),e.jsx(h,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 bg-white/20 hover:bg-white/30 text-white border-white/30",onClick:ve,"data-testid":"close-fullscreen-button",children:e.jsxs("div",{className:"h-4 w-4 flex items-center justify-center",children:[e.jsx("div",{className:"w-3 h-0.5 bg-current transform rotate-45 absolute"}),e.jsx("div",{className:"w-3 h-0.5 bg-current transform -rotate-45 absolute"})]})}),g.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white border-white/30",onClick:Z,"data-testid":"fullscreen-prev-button",children:e.jsx(se,{className:"h-6 w-6"})}),e.jsx(h,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white border-white/30",onClick:H,"data-testid":"fullscreen-next-button",children:e.jsx(ae,{className:"h-6 w-6"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[l+1," / ",g.length]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-6 mb-8 border border-blue-200/30 dark:border-blue-700/30 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx(F,{className:r.listingType==="sale"?"bg-red-600 text-white":"bg-emerald-600 text-white",children:r.listingType==="sale"?t("filter.forSale"):t("filter.forRent")}),r.isFeatured&&e.jsx(F,{variant:"secondary",children:t("property.featured")})]}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2","data-testid":"property-title",children:r.title}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),e.jsxs("p",{"data-testid":"property-address",children:[r.address,", ",r.city,", ",r.country]})]})]}),e.jsxs("div",{className:"text-left md:text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-primary mb-1","data-testid":"property-price",children:_(r.price,r.currency,r.listingType,I,S,t)}),r.area&&e.jsx("div",{className:"text-sm text-muted-foreground",children:Se(r.price,r.area,r.currency,I,S,t)})]})]})}),e.jsx(N,{className:"bg-gradient-to-br from-green-50/80 to-emerald-50/80 dark:from-green-900/20 dark:to-emerald-900/20 backdrop-blur-xl border-green-200/40 dark:border-green-700/40 mb-8",children:e.jsx($,{className:"p-4 sm:p-5 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[r.bedrooms&&e.jsxs("div",{className:"flex items-center gap-3 md:flex-col md:items-center md:justify-center text-start md:text-center","data-testid":"bedrooms-info",children:[e.jsx(Ze,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-primary md:mx-auto shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-base sm:text-lg md:text-xl",children:r.bedrooms}),e.jsx("div",{className:"text-[11px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:t("property.bedrooms")})]})]}),r.bathrooms&&e.jsxs("div",{className:"flex items-center gap-3 md:flex-col md:items-center md:justify-center text-start md:text-center","data-testid":"bathrooms-info",children:[e.jsx(Ke,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-primary md:mx-auto shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-base sm:text-lg md:text-xl",children:r.bathrooms}),e.jsx("div",{className:"text-[11px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:t("property.bathrooms")})]})]}),r.area&&e.jsxs("div",{className:"flex items-center gap-3 md:flex-col md:items-center md:justify-center text-start md:text-center","data-testid":"area-info",children:[e.jsx(qe,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-primary md:mx-auto shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-base sm:text-lg md:text-xl",children:r.area.toLocaleString()}),e.jsx("div",{className:"text-[11px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:t("property.sqFt")})]})]}),e.jsxs("div",{className:"flex items-center gap-3 md:flex-col md:items-center md:justify-center text-start md:text-center",children:[e.jsx(Qe,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-primary md:mx-auto shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-base sm:text-lg md:text-xl",children:"2"}),e.jsx("div",{className:"text-[11px] sm:text-xs md:text-sm text-muted-foreground leading-tight",children:t("property.parking")})]})]})]})})}),r.description&&e.jsx(N,{className:"bg-gradient-to-r from-orange-50/80 to-amber-50/80 dark:from-orange-900/20 dark:to-amber-900/20 backdrop-blur-xl border-orange-200/40 dark:border-orange-700/40 mb-8",children:e.jsxs($,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("property.description")}),e.jsx("p",{className:"text-muted-foreground leading-relaxed","data-testid":"property-description",children:r.description})]})}),e.jsx(N,{className:"bg-gradient-to-bl from-indigo-50/80 to-cyan-50/80 dark:from-indigo-900/20 dark:to-cyan-900/20 backdrop-blur-xl border-indigo-200/40 dark:border-indigo-700/40 mb-8",children:e.jsxs($,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("property.featuresAmenities")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((J=r.features)==null?void 0:J.length)>0?e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:t("property.features")}),e.jsx("div",{className:"space-y-2",children:r.features.map((a,c)=>{const w=t(`property.features.${a}`)!==`property.features.${a}`?t(`property.features.${a}`):a;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:w})]},c)})})]}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:t("property.features")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.features.centralAC")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.features.hardwoodFloors")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.features.modernKitchen")})]})]})]}),((Y=r.amenities)==null?void 0:Y.length)>0?e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:t("property.amenities")}),e.jsx("div",{className:"space-y-2",children:r.amenities.map((a,c)=>{const w=t(`property.amenities.${a}`)!==`property.amenities.${a}`?t(`property.amenities.${a}`):a;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:w})]},c)})})]}):e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:t("property.amenities")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.amenities.gardenPatio")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.amenities.securitySystem")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t("property.amenities.garageParking")})]})]})]})]})]})}),e.jsx(N,{className:"bg-gradient-to-tr from-rose-50/80 to-pink-50/80 dark:from-rose-900/20 dark:to-pink-900/20 backdrop-blur-xl border-rose-200/40 dark:border-rose-700/40",children:e.jsxs($,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("property.propertyInformation")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-left",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-muted-foreground",children:[t("property.propertyType"),": "]}),e.jsx("span",{className:"font-medium capitalize bg-orange-500 text-white dark:bg-orange-600 px-2 py-1 rounded-md text-xs",children:t(`filter.${r.type}`)!==`filter.${r.type}`?t(`filter.${r.type}`):r.type})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-muted-foreground",children:[t("property.listed"),": "]}),e.jsxs("span",{className:"font-medium bg-blue-100 dark:bg-blue-700 px-2 py-1 rounded-md text-xs",children:[e.jsx(Ge,{className:"inline h-4 w-4 mr-1"}),new Date(r.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"text-muted-foreground",children:[t("property.status"),": "]}),e.jsx(F,{variant:"secondary",className:"capitalize bg-green-500 text-white dark:bg-green-600 text-xs",children:t(`property.status.${r.status}`)!==`property.status.${r.status}`?t(`property.status.${r.status}`):r.status})]})]})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(tt,{property:r,agent:r.agent||void 0})})]})]})]})}export{It as default};
